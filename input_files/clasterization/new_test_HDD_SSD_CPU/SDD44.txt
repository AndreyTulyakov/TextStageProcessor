
Экспресс-тестирование разных скоростных режимов PCIe на платформах AMD AM4 и Intel LGA1151 применительно к быстрому SSD
Оглавление

    PCI Express: существующие стандарты и их пропускная способность
    Реализация PCIe в массовых чипсетах Intel с древнейших времен до наших дней
    HEDT, AMD и AMD HEDT
    Тестирование
    Методика и объекты тестирования
    Производительность в приложениях
    Последовательные операции
    Случайный доступ
    Работа с большими файлами
    Рейтинги
    Итого

Методика тестирования накопителей образца 2018 года

Долгое время вопрос интерфейса подключения накопителей типичного домашнего пользователя не интересовал. Вопросы могли возникать лишь при его смене — особенно радикальной или, по крайней мере, такой, чтобы новый и старый были несовместимы друг с другом электрически без дополнительных ухищрений. Последнее такое событие в мире ПК — переход с Parallel ATA на Serial ATA, но он был растянутым по времени и в основном закончился еще к концу прошлого десятилетия. Последовательная же смена версий что Parallel ATA, что Serial ATA — куда менее масштабное событие, поскольку разработчики всегда обещали их совместимость. Впрочем, обещания обещаниями, а на практике легко можно было нарваться на проблемы. Но это в основном тоже было давно: последней активно используемой версией SATA стала 3.0, разработанная больше десяти лет назад. Внедрение, как обычно, заняло определенное время, но сейчас уже найти порты более старых версий можно только в системах примерно пятилетней давности и более старых. Кроме того, в большинстве случаев это практически ни на чем не сказывается — мы вот недавно подключили современный SSD к SATA300 и... никаких серьезных проблем не обнаружили. Да, немного медленнее, чем в современных системах, но не настолько, чтобы это могло помешать на практике. Иногда со старыми контроллерами (причем версия спецификаций тут тоже не важна) у некоторых «очень свежих» твердотельных накопителей бывают проблемы совместимости — но это лишь частные случаи, разбираться с которыми следует в индивидуальном порядке. В общем, все достаточно просто.

Но совсем другая картина вырисовывается, как только от простых и привычных SATA-устройств мы переходим к новомодным NVMe-накопителям. С самим-то протоколом NVMe все просто — его поддержка есть во всех современных ОС, так что единственный вопрос, который может возникнуть, это можно ли использовать такой накопитель в качестве загрузочного (что зависит от прошивки конкретной системной платы). А вот с собственно физическим интерфейсом, в качестве которого используется PCIe, есть ряд нюансов, поскольку тут уже для полной реализации скоростных возможностей SSD приходится «держать в уме» не только версии стандарта, но и доступное количество линий. В современных системах и с тем, и с другим дела обстоят неплохо — но есть и другие тонкие моменты. Если же устанавливать SSD в относительно старый компьютер, то их количество резко увеличивается.

Поэтому мы решили посвятить этим вопросам отдельный материал, который вы сейчас и читаете. В нем будет много теории — и немножко практики. Ответов на все возможные вопросы не обещаем, но определенную базу, позволяющую определиться с выбором, постараемся предоставить.
PCI Express: существующие стандарты и их пропускная способность

Начнем с того, что́ представляет собой PCIe и с какой скоростью этот интерфейс работает. Часто его называют «шиной», что несколько неверно идеологически — как таковой шины, с которой соединены все устройства, нет. На деле имеется набор соединений «точка-точка» (похожий на многие другие последовательные интерфейсы) с контроллером в центре и присоединенными к нему устройствами (каждое из которых само по себе может быть концентратором следующего уровня).

Первая версия PCI Express появилась еще в начале «нулевых». Ориентация на использование внутри компьютера (нередко — и в пределах одной платы) позволила сделать стандарт скоростным: 2,5 гигатранзакции в секунду. Поскольку интерфейс последовательный и дуплексный, одна линия PCIe (x1; фактически атомарная единица) обеспечивает передачу данных на скоростях до 5 Гбит/с. Однако в каждом направлении — лишь половина от этого, т. е. 2,5 Гбит/с, причем это полная скорость интерфейса, а не «полезная»: для повышения надежности каждый байт кодируется 10 битами, так что теоретическая пропускная способность одной линии PCIe 1.x составляет примерно 250 МБ/с в каждую сторону. На практике нужно еще передавать служебную информацию — в итоге правильнее говорить о ≈200 МБ/с передачи пользовательских данных. Что, впрочем, на момент создания PCIe не только покрывало потребности большинства устройств, но и обеспечивало солидный запас: достаточно вспомнить, что предшественница PCIe в сегменте массовых системных интерфейсов, а именно шина PCI, обеспечивала пропускную способность в 133 МБ/с. И даже если рассматривать не только массовую реализацию, но и все варианты PCI, то максимумом были 533 МБ/с — на всю шину, т. е. такая ПС делилась на все подключенные к ней устройства. Здесь же 250 МБ/с (поскольку и для PCI приводится обычно полная, а не полезная пропускная способность) на одну линию — в монопольном использовании. А для устройств, которым нужно больше, изначально была предусмотрена возможность агрегирования нескольких линий в единый интерфейс — по степеням двойки, от 2 до 32, т. е. предусмотренный стандартом вариант х32 в каждую сторону мог передавать уже до 8 ГБ/с. В персональных компьютерах интерфейс х32 не использовался из-за сложности создания и разведения соответствующих контроллеров и устройств, так что максимумом стал вариант с 16 линиями, причем использовался он (да и сейчас используется) в основном лишь видеокартами, поскольку большинству устройств столько не требуется. Вообще, немалому количеству устройств и одной линии вполне достаточно, но некоторые с успехом применяют и х4 или х8 — как раз (по накопительной теме) RAID-контроллеры или SSD.

Тем более, что время на месте не стояло и еще в 2007 году появилась вторая версия PCIe. Улучшения касались не только скоростей, но и в этом отношении был сделан шаг вперед: интерфейс начал обеспечивать 5 гигатранзакций в секунду с сохранением той же схемы кодирования, т. е. пропускная способность удвоилась. И еще раз она удвоилась в 2010 году: PCIe 3.0, правда, обеспечивает 8 гигатранзакций в секунду, а не 10, но уменьшилась избыточность — теперь для кодирования 128 бит используется 130, а не 160, как ранее. На сегодняшний день это последняя реализованная «в железе» версия PCIe, и именно она используется абсолютно всеми SSD с поддержкой протокола NVMe, благо таковые появились уже после 2010 года. На PCIe 2.0 были рассчитаны лишь редкие модели с поддержкой протокола AHCI, унаследованного еще от винчестеров и подобных устройств. Совместимость между разными версиями очень хорошая, т. е. современный SSD можно установить и в PCIe 1.х/2.х. Однако получить при этом высокую скорость работы не получится, поскольку по пропускной способности PCIe 3.0 х4 соответствует PCIe 1.0 x16 — самому быстрому слоту в компьютерах середины нулевых. Ну а поскольку способы «поиграть» с преобразованием количества линий в их качество конечному пользователю недоступны (хотя и возможны чисто технически), следует просто считать, что в очень старой системе современный высокоскоростной SSD получит вчетверо более низкий потолок, чем ему положено по спецификациям, а в просто старой системе — вдвое более низкий. Впрочем, такое может случиться и на современной системной плате, о чем мы поговорим чуть ниже.

Пока же отметим, что теоретически уже появилась PCIe 4.0 и готовится версия 5.0 — с очередным удвоением скоростей на каждом шаге. Со временем они будут реализованы и в компьютерах, и в накопителях — по крайней мере, в топовых. Принцип же остается тем же самым: устройство можно использовать и со старыми хостами, но каждая ступенька вниз уполовинивает теоретическую пропускную способность. И все это еще зависит от реализации.
Реализация PCIe в массовых чипсетах Intel с древнейших времен до наших дней

С самого 2004 года (когда появилась линейка чипсетов i915/i925 Express) в массовых платформах Intel не меняется почти ничего — только северный мост (в тогдашней терминологии) перебрался непосредственно в процессор при разработке LGA1156 десять лет назад. А концепции остаются теми же. Есть северный мост (теперь — часть процессора) — и есть южный. Для связи с «внешним миром» первый снабжен контроллером PCIe с поддержкой 20 линий (исключений было мало, и все они не массовые). 16 из них можно использовать для подключения устройств непосредственно к процессору, но обычно они выведены на ровно один слот, куда чаще всего устанавливалась одна видеокарта. В некоторых случаях линии можно делить на конфигурации 8+8 или даже 8+4+4, но не всегда — причем каждый из этих вариантов должен поддерживаться соответствующим чипсетом. Даже сейчас.

Все накопители же и прочая периферия подключаются исключительно к чипсету посредством соответствующих интерфейсов: SATA, USB, PCIe и т. п. Связь чипсета (южного моста) с процессором (северным мостом) осуществляется при помощи оставшихся четырех линий процессорного контроллера PCIe, на базе которых и «собран» интерфейс DMI. И это тоже приходится учитывать при выборе: даже младший В360 для современной версии LGA1151 уже поддерживает 12 линий PCIe «на выходе», но на входе, напомним, их всего четыре. Этого хватает в точности на один быстрый SSD — а ведь еще надо как-то «кормить» и SATA-контроллер, и остальные устройства, да и SSD может быть не один.

Однако если рассматривать не только современные чипсеты, но и уже имеющиеся «на руках» системы, есть и вторая проблема: внедрение поддержки новых версий PCIe в южные мосты всегда происходило с задержкой. В частности, поддержка PCIe 2.0 появилась еще в чипсетах Intel 3x (Bearlake) для LGA775 образца 2007 года — но только «для видеокарт»: ни один южник для этой платформы PCIe 2.0 не получил. И для следующих хронологически платформ — тоже. Первой платформой с поддержкой PCIe 2.0 «на всех слотах» стала LGA1155 в 2011 году, но уже в 2012-м именно для нее вышли процессоры (в которые, напомним, мигрировал северный мост) с контроллером PCIe 3.0. Точно такая же схема сохранилась и в LGA1150. И только вместе с первой версией LGA1151 поддержка PCIe 3.0 стала полной — всеми слотами.

Понятно, что идиллия вряд ли будет долгой — внедрение PCIe 4.0 наверняка станет таким же «поэтапным». При всем при этом производители контроллеров для SSD уже демонстрируют готовые продукты с поддержкой нового стандарта, причем речь идет вовсе не об «элитарных» решениях: например, таков Phison E16, а компания всегда тяготела, скорее, к бюджетному сегменту. Таким образом, в следующем году (а может, даже и в этом) проблема подбора и выбора усугубится. Но не у всех :)
HEDT, AMD и AMD HEDT

В беспечальные «нулевые» понятия High-End Desktop Platform не было — но уже были чипсеты для «бескомпромиссных энтузиастов» с увеличенным количеством линий PCIe для поддержки нескольких видеокарт. В частности, таковы Intel X38 и X48, в которых северный мост поддерживает 32 линии PCIe 2.0, обычно разделенные на два слота x16. Если только один из них занят видеокартой, второй можно выделить для высокоскоростных устройств — не обязательно накопителей. Напомним, что Х38 появился еще в 2007 году — но в плане поддержки PCIe он превосходил куда более поздние решения для «массовой» LGA1156 образца 2009 года. Впрочем, платы на нем и стоили соответствующих денег.

Позднее подход сохранился, но уже в рамках «специальных» HEDT-платформ, типа LGA2011, LGA2011-3 и LGA2066. По сути, они представляли собой модификацию серверных решений, а в тех большое количество линий PCIe стало в нынешнем десятилетии актуальным — в отличие от обычных настольных компьютеров, где из более-менее массовой периферии осталась видеокарта, причем чаще всего одна-одинешенька. Теперь к списку стали добавляться SSD, что начало́ иногда вызывать проблемы, но только не у покупателей HEDT-систем, где можно обнаружить до 40 линий PCIe 3.0 (начиная с LGA2011-3), подключенных непосредственно к процессору, а не через чипсет и «бутылочное горлышко» DMI. Правда, и чипсет на этих платах тоже есть — а «его» слотов касается все сказанное выше про массовые платформы. Соответственно, на плате на базе Х99 (LGA2011-3) будут соседствовать и «быстрые» процессорные слоты PCIe 3.0, и «медленные» чипсетные PCIe 2.0, так что придется еще выбирать «правильный» слот, это не всегда удобно.

Почему о системах на базе процессоров AMD мы заговорили именно тут? Дело в том, что современные платформы этой компании используют тот же подход, что и HEDT-решения Intel. Так, в массовой АМ4 на момент ее создания разработчикам не удалось реализовать полноценную поддержку PCIe 3.0, но обеспечить поддержку хотя бы одного высокоскоростного SSD хотелось. Поэтому «выделенные» для этого четыре линии PCIe 3.0 обеспечиваются непосредственно процессором — в дополнение к х16 для видео и х4 для связи с чипсетом. И эти линии есть всегда — даже у APU, где контроллер немного урезан, но лишь в плане количества линий для видеокарт.

Но в общем и целом несложно заметить, что для использования нескольких высокоскоростных SSD без оговорок и ограничений АМ4 подходит так же плохо, как и LGA1151. Точнее, и там, и там для такой поддержки придется «обидеть» видеокарту. В случае Intel — потому что остальные линии PCIe 3.0 коммутируются чипсетом, соединенным с процессором «узким» интерфейсом. А у платформы АМ4 больше PCIe 3.0 просто нет — чипсет поддерживает только PCIe 2.0. Точнее, пара линий на некоторых платах есть — они изначально предназначались для реализации «не взлетевшего» в итоге SATA Express. Но PCIe 3.0 х2 по пропускной способности равен PCIe 2.0 х4, так что тут тоже особо не разгуляешься.

Единственный способ не задумываться над этими вопросами — HEDT-платформа TR4. У процессоров Ryzen Threadripper «свободно» целых 60 линий PCIe 3.0, которыми можно пользоваться для подключения семи устройств и даже не вспоминать, что чипсет поддерживает лишь PCIe 2.0.

Впрочем, при наличии только одного SSD можно пока считать все платформы эквивалентными и достаточными. Внедрение PCIe 4.0 может дать своеобразную фору AMD, поскольку Ryzen следующего поколения будут первыми устройствами на рынке, снабженными поддержкой этого стандарта. Будет ли эта версия стандарта использоваться и для «накопительного» интерфейса, а также получится ли воспользоваться новыми возможностями в существующих платах для АМ4 — покажет время. Пока ничего точно сказать нельзя, ибо продуктов, рассчитанных на PCIe 4.0, в продаже еще нет.

А вот решений с PCIe 3.0 в продаже предостаточно, и мы решили посмотреть, как это работает на LGA1151 и АМ4. Изучать будем не только штатный максимальный режим, но и «ограниченные» — а то, может быть, ограничениями можно иногда и пренебречь?
Тестирование
Методика и объекты тестирования

Методика подробно описана в отдельной статье, там же можно познакомиться с используемым программным обеспечением.

Проверять скоростные характеристики лучше всего воспользовавшись высокопроизводительным накопителем — не обязательно экстремальным, но быстрым. Таковой у нас есть — Samsung 970 Evo Plus емкостью 1 ТБ. Устанавливали мы его в две системы — как в штатные слоты M.2, так и в «большой» PCIe через адаптер.

Первая использовала процессор Core i5-9600K и системную плату Asus ROG Maximus X Hero на чипсете Intel Z370. Она снабжена двумя разъемами M.2, а также эквивалентным им «чипсетным» слотом PCIe 3.0 x4, который также может быть переключен в режим х2. Кроме того, слоты PCIe на этой плате снабжены пропилами, позволяющими устанавливать в них и карты с более «широким» интерфейсом (естественно, в режиме х1) — в частности, и адаптер для накопителей. Последний вариант — «процессорный» слот PCIe 3.0 x16: интересы видеоадаптера нам в рамках тестирования не важны, а вот сравнить с ним «чипсетный» — нужно.

В системе на базе Ryzen 7 2700X и Asus TUF X470-Plus Gaming на чипсете Х470 мы опробовали меньшее количество вариантов. Два слота M.2 — один из которых подключен к процессору через «выделенный» PCIe 3.0 x4, а второй к чипсету посредством PCIe 3.0 x2. И также «чипсетный» слот PCIe 2.0 x4 — для сравнения со вторым M.2.

Кроме того, в качестве эталона мы воспользуемся результатами этого SSD в «процессорном» слоте PCIe нашей тестовой системы на базе процессора Intel Core i7-7700 и платы ASRock Z270 Killer SLI (чипсет Intel Z270). Заодно из основной линейки тестирования мы взяли Samsung 860 Evo емкостью 1 ТБ — как характерного представителя SATA-решений. Также мы протестировали 970 Evo Plus в составе Intel NUC 7i7BNH — здесь тоже Core i7 «седьмого» поколения, но мобильный двухъядерный, что сказывается на результатах некоторых тестов, несмотря на наличие формально такого же «чипсетного» PCIe 3.0 x4, как и в плате на базе Z370.

Поскольку сегодняшнее тестирование достаточно специфично, мы не стали заносить результаты тестов в общую таблицу: они доступны в отдельном файле в формате Microsoft Excel. Так что желающие покопаться в цифрах (тем более, что не все они попадают на диаграммы) могут скачать его и удовлетворить любопытство.
Производительность в приложениях

Судя по баллу высокого уровня, и говорить-то не о чем — все практически равны. Чуть-чуть медленнее компактный NUC и AM4, но совсем чуть-чуть — даже разница с эталонным SATA SSD и то больше.

Но потенциальные возможности — разные. И видно, что для Evo Plus (а это, напомним, один из лучших современных накопителей на рынке) в общем-то достаточно двух линий PCIe 3.0 или, соответственно, четырех PCIe 2.0. И куда сильнее может сказаться не «ширина» интерфейса, а другие особенности хост-системы.

Предыдущая версия пакета традиционно демонстрирует сходные результаты. Правда нагрузки в ней более «легкие», так что большая пропускная способность может пригодиться чаще: в результате уже и PCIe 3.0 x2 на Z370 отстает от PCIe 3.0 x4 в NUC или на АМ4, хотя в PC Mark 8 было не так.

И что еще интересно (и, пожалуй, практически значимо в наибольшей степени) — даже одной линии PCIe достаточно, чтобы увидеть преимущества NVMe-накопителей сравнительно с SATA-классикой. Если, конечно, хотеть их увидеть :)
Последовательные операции

Разумеется, эти тесты в наибольшей степени демонстрируют полезность быстрых интерфейсов — иначе и быть не могло. Хотя есть и нюансы — от «ширины» или версии PCIe практически линейно зависят многопоточные операции, благо в подобных сценариях Evo Plus способен полностью загрузить работой и PCIe 3.0 x4, не говоря уже о более медленных. А вот в один поток такого не наблюдается — с соответствующим же итоговым результатом. Также и хорошо заметно пусть небольшое, но преимущество даже x1 над SATA600: 700-800 МБ/с последний «прокачать» не может даже в теории.
Случайный доступ

Шансов «упереться» в интерфейс при таких нагрузках немного — более весомы другие факторы. Например, при единичной длине очереди 970 Evo Plus убедительно обгоняет «референсный» 860 Evo просто потому, что у него сам флэш быстрее, а интерфейсы и протоколы при такой нагрузке неважны. А при одном потоке, но «глубокой» очереди заметно проваливается АМ4 — по-видимому, из-за особенностей самой платформы (в первую очередь, даже, скорее, самих процессоров). Да и низковольтного Core i7 в NUC недостаточно, чтобы обеспечить полную загрузку накопителя в режиме 8Т8. Впрочем, синтетичном — настольный компьютер довести до такой жизни вне тестов сложно. Но по иронии судьбы только он оказался применим к целям сегодняшнего тестирования, поскольку может развивать скорость, недоступную одной линии PCIe 3.0! А вот двух — все еще вполне достаточно. Либо четырех PCIe 2.0, соответственно.

С записью положение дел аналогичное — только еще более выраженное. В частности, нагрузку можно распараллеливать активнее, так что на Z370 и PCIe 3.0 х2 не позволяет получить максимум. Правда вот то, на что этот режим способен, все равно в полтора раза быстрее, чем можно выжать из Core i7-7567U, несмотря на то, что в NUC x4. Забавны также результаты на платформе AMD, где (как и при чтении) «чипсетный» контроллер способен обгонять формально более быстрый «процессорный». А еще на Z370 при «сужении» ширины интерфейса растет производительность однопоточного режима с «глубокой» очередью.

Эта утилита идеологически тестирует тоже самое, но в других режимах — с более короткими очередями (что несколько ближе к практике). Но и в ней, как видим, далеко не всегда можно прямо соотнести производительность собственно с интерфейсом — реализация контроллера важнее. К примеру, на АМ4 производительность на коротких очередях при записи существенно ниже максимальной для данного накопителя, так что и влияние ширины PCIe обнаружить сложно. На Z370 же хватает и очереди в 16 команд, чтобы «маловато» оказалось не только PCIe 3.0 х1, но и х2. Но опять — при мощном процессоре, поскольку в NUC x4 ненамного-то быстрее десктопного x2 (да и того, что обеспечивает AMD в любом из протестированных режиме).

На чем «отыгрывается» AMD, так это на одиночной очереди, но с большими блоками — результаты оказываются чуть более высокими, чем в соответствующих режимах на Intel. Впрочем, как мы не раз отмечали, эти показатели низкоуровневых бенчмарков (все попавшие в данный раздел) в первую очередь интересны только тестерам, поскольку позволяют как-то ранжировать разные накопители по (хотя бы теоретической) производительности. Что нужно конечному пользователю на практике? Хватает «приличной» SATA-модели — даже он уже обеспечивает необходимый в настольном компьютере уровень производительности с солидным запасом. Как видим, хороший NVMe-накопитель независимо от способа подключения (в рамках, используемых нами сегодня по крайней мере) этот самый «запас» только увеличивает. Для получения максимального количества «попугаев», конечно, лучше всего подходит PCIe 3.0 x4, но не более того. А иногда он и вовсе избыточен даже в этом случае.
Работа с большими файлами

Перед нами один из немногих случаев, когда определяющей может оказаться пропускная способность интерфейса — и оказывается, как минимум при многопоточном чтении. В однопоточном режиме такой красивой лесенки уже нет, поскольку и скорость его ниже.

Запись же и сама по себе выполняется медленнее, так что на результаты начинают серьезно влиять и другие факторы, а не только ширина интерфейса. Хотя и в этом случае максимально быстрым оказывается именно «родной» режим PCIe 3.0 x4, но так и должно быть.

Как и при записи одновременно с чтением. Все-таки, как видим, полностью «загрузить» работой PCIe 3.0 x4 в большинстве сценариев (даже условно последовательных) современные SSD все еще не могут. Но могут иногда «выбираться» за ограничения х2. А вот х1 им, естественно, мало, хотя и такой вариант по понятным причинам лучше SATA. Но очень большое значение имеют и другие факторы, зависящие от платформы, т. е. однозначно утверждать, что «широкий» интерфейс всегда лучше «узкого», нельзя — в каких-то случаях может оказаться и не лучше. С SATA подобное тоже бывало, но в меньшей степени — поскольку и скорости намного ниже, разброс результатов обычно тоже был небольшим (исключения, впрочем, известны — та же линейка дискретных контроллеров Marvell 91хх со скоростью записи на уровне SATA150). PCIe же — интерфейс куда более быстрый и сложный. Но на практике обычно все еще избыточный для накопителей — что и спасает.
Рейтинги

Утилита невысоко оценивала скорость записи данных на AM4 — что привело и к закономерному общему результату. Для практического же использования накопителей, впрочем, куда большее значение имеют не теоретические «попугаи», а сравнение в рамках одной платформы. Ну и то, что в любом случае производительность будет выше, чем может обеспечить SATA-интерфейс, конечно, тоже.

С той же меркой стоит подходить и к общему баллу, учитывающему результаты тестов высокого уровня. В которых, напомним, и разница-то между PCIe и SATA сильно сокращается — не говоря уже о разнице между различными режимами и/или контроллерами PCIe.
Итого

Изначально мы хотели протестировать разные скоростные режимы PCIe, но в конечном итоге получилось, что немалая часть полученных результатов относится к сравнению платформ. Заодно для себя мы сделали вывод, что переносить тестирование накопителей с Intel на AMD, пожалуй, не стоит: никаких особых преимуществ наличие у процессора «выделенного» интерфейса для SSD в тестах не обеспечило, а вот для выжимания максимальных результатов сама платформа АМ4 подходит не лучшим образом. Практического значения все это не имеет — на то результаты и максимальные, чтобы за пределами специализированных утилит не встречаться :) И покупатели, выбирающие систему именно по этим характеристикам, нам тоже как-то за все годы не попадались ни разу.

Просто все это следует учитывать, в том числе и читая обзоры, дабы не удивляться, что на вашей системе результаты получаются более низкими, чем в наших статьях. Винчестеры-то все равно на чем тестировать, SATA SSD уже некоторую зависимость от тестовой платформы демонстрируют, а накопители с поддержкой протокола NVMe (особенно топовые) вообще очень требовательны к окружению.

Впрочем, если цель — не выжать максимум, а просто пользоваться, то это несложно реализовать в любом окружении. Причем, как показали тесты, гоняться за максимальными режимами PCIe необходимости нет (это, кстати, ответ на вопрос, стоит ли бежать в магазин после появления в нем SSD и плат с поддержкой PCIe 4.0). Даже быстрые современные накопители во многих сценариях «укладываются» в PCIe 3.0 x1 и еще чаще не чувствуют себя скованными при использовании PCIe 3.0 x2. При наличии же «под рукой» только PCIe 2.0 требования удваиваются, т. е. тут уже желательно наличие двух или четырех линий. А это можно получить и в достаточно старых системах.
