Изучаем оптимизацию игр под многоядерные процессоры и технологии Hyper-Threading, SMT: сентябрь 2019 
Вступление

Целью данного обзора является исследование оптимизации актуальных игр под многоядерные процессоры. Для ее реализации были взяты следующие модели:

    Core i7-9700K;
    Core i7-8700K;
    Core i5-9600K;
    Core i7-7700K;
    Core i3-9350К;
    Pentium G5600;

    Ryzen 7 2700X;
    Ryzen 5 2600X;
    Ryzen 5 2500X;
    Ryzen 3 2300Х;
    Athlon 200GE.

Все перечисленные процессоры работали на тактовой частоте 3500 МГц.

Помимо оптимизации игр под многоядерные ЦП была исследована работоспособность технологий Hyper-Threading и SMT. Вышеуказанные процессоры были протестированы в следующих режимах:

    Core i7-8700K - Hyper-Threading – off / Hyper-Threading - on;
    Core i7-7700K - Hyper-Threading – off / Hyper-Threading - on;

    Ryzen 7 2700X - SMT – off / SMT – on;
    Ryzen 5 2600X - SMT – off / SMT – on;
    Ryzen 5 2500X - SMT – off / SMT – on.

Для разносторонности исследования все системы были протестированы в паре с видеокартой GeForce RTX 2080 Ti 11264 Mбайт.

Данное направление статей носит справочный характер, комментарии отсутствуют, так как каждый читатель сможет самостоятельно почерпнуть нужную ему информацию.

Напомним, что о работе тестовых стендов, методике и обработке результатов можно узнать из подробного рассказа о тестировании комплектующих в играх.

Тестовая конфигурация

Тесты проводились на следующем стенде:

    Материнская плата №1: ASRock Fatal1ty Z370 Gaming K6, LGA 1151v2;
    Материнская плата №3: Gigabyte X370 AORUS Gaming 5, АМ4;
    Видеокарта: GeForce RTX 2080 Ti 11264 Mбайт - 1545/14000 МГц (ASUS);
    Оперативная память №1: 2 x 8 Гбайт DDR4 Corsair Vengeance LPX (Spec: 3333 МГц / CL15 / 1.35 В);
    Оперативная память №2: 4 x 4 Гбайт DDR4 Kingston HyperX Savage (Spec: 3333 МГц / CL14 / 1.38 В);
    Дисковая подсистема №1: 64 Гбайт, SSD ADATA SX900;
    Дисковая подсистема №2: 1 Тбайт, HDD Western Digital Caviar Green (WD10EZRX);
    Блок питания: Corsair HX850 850 Ватт (штатный вентилятор: 140-мм на вдув);
    Корпус: открытый тестовый стенд;
    Монитор: 27" ASUS PB278Q BK (Wide LCD, 2560x1440 / 60 Гц).

Процессоры

    Core i7-9700K - 3500 МГц;
    Core i7-8700K - 3500 МГц;
    Core i5-9600K - 3500 МГц;
    Core i7-7700K - 3500 МГц;
    Core i3-9350К - 3500 МГц;
    Pentium G5600 - 3500 МГц;

    Ryzen 7 2700X - 3500 МГц;
    Ryzen 5 2600X - 3500 МГц;
    Ryzen 5 2500X - 3500 МГц;
    Ryzen 3 2300Х - 3500 МГц;
    Athlon 200GE - 3500 МГц.

Программное обеспечение:

    Операционная система: Windows 10 x64;
    Драйверы видеокарты: NVIDIA GeForce 436.30 WHQL.
    Утилиты: D3DGear 5.00 Build 2252, AutoHotkey v1.0.48.05, MSI Afterburner 4.6.1.

Инструментарий и методика тестирования

Для более наглядного сравнения процессоров все игры, используемые в качестве тестовых приложений, запускались в разрешениях 1920 х 1080 и 2560 х 1440.

В качестве средств измерения быстродействия применялись встроенные бенчмарки, утилиты D3DGear 5.00 Build 2252 и AutoHotkey v1.0.48.05. Список игровых приложений:

    Anthem.
    Assassin's Creed Odyssey.
    Battlefield V.
    Call of Duty: Black Ops 4.
    Far Cry 5.
    Far Cry New Dawn.
    HITMAN.
    HITMAN 2.
    Metro Exodus.
    Resident Evil 2.
    Shadow of the Tomb Raider.
    World War Z.

Во всех играх замерялись минимальные и средние значения FPS. В тестах, в которых отсутствовала возможность замера минимального FPS, это значение измерялось утилитой D3DGear. VSync при проведении тестов был отключен.

Результаты тестов: сравнение производительности

Anthem

    Версия 1.2.1.00.
    DirectX 11.
        Размытие в движении - включено.
        Глубина резкости - включена.
        Хроматическая абберация - включена.
        Качество сглаживания - ультра высокое.
        Рассеянное затенение - HBAO.
        Качество текстур - ультра высокое.
        Фильтрация текстур - ультра высокая.
        Каркасная структура объектов - ультра высокая.
        Качество освещения - ультра высокое.
        Качество эффектов - ультра высокое.
        Качество пост-обработки - ультра высокое.
        Качество рельефа - ультра высокое.
        Качество растительности - ультра высокое.


720x578 62 KB

Assassin's Creed Odyssey

    Версия 1.4.0.
    DirectX 11.
        Модификатор разрешения - 100%.
        Угол обзора - 100%.
        Сглаживание - высокое.
        Качество теней - ультра высокое.
        Качество окружения - ультра высокое.
        Детализация текстур - высокая.
        Качество рельефа - высокое.
        Плотность мелких объектов - очень высокое.
        Качество тумана - высокое.
        Качество воды - очень высокое.
        Качество полноэкранных отражений - высокое.
        Качество объемных облаков - ультра высокое.
        Качество персонажей - ультра высокое.
        Качество объемного освещения - очень высокое.
        Качество глубины резкости - высокое.


720x578 62 KB

Battlefield V

    Версия 1.0 build 25081.
    DirectX 12.
        Трассировка лучей - включена.
        RTX DLSS - выключена.
        Угол обзора на технике - 95.
        Размытие в движении - 50%.
        Эффекты глубины резкости - включены.
        Хроматическая абберация - включена.
        Зернистость изображения - включена.
        Виньетирование - включено.
        Оптическая дисторсия - включена.
        Разрешение - 100%.
        Ограничение частоты кадров - 200.
        Рендеринг последующих кадров - включен.
        Ограничение памяти графического процессора - включено.
        Качество текстур - ультра высокое.
        Фильтрация текстур - ультра высокая.
        Качество освещения - ультра высокое.
        Качество эффектов - ультра высокое.
        Качество пост-обработки - ультра высокое.
        Качество сетки - ультра высокое.
        Качество рельефа - ультра высокое.
        Качество травы - ультра высокое.
        Сглаживание - ТАА высокое.
        Глобальное затенение - HBAO.
        Качество отражений при трассировке лучей - ультра высокое.
        Количество эффектов - ультра высокое.


720x578 62 KB

Call of Duty: Black Ops 4

    Версия 1.15.1.3314056.
    DirectX 11.
        Предзагрузка шейдеров - включена.
        Качество текстур - очень высокое.
        Качество фильтрации текстур - высокое.
        Качество спецэффектов - высокое.
        Качество моделей - высокое.
        Качество статических отражений - высокое.
        Отражения в экранном пространстве - включены.
        Дальность показа объектов - высокая.
        Качество теней - очень высокое.
        Динамические тени - все включены.
        Тени от спецэффектов - включены.
        Затенение оружия - включено.
        Глобальное затенение - включено.
        Качество сглаживания - очень высокое.
        Качество затенения - очень высокое.
        Эффект скорости - включен.
        Подповерхностное рассеивание - включено.
        Качество порядко-независимой прозрачности - высокое.


720x578 62 KB

Far Cry 5

    Версия 1.0.13.
    DirectX 11.
        Качество фильтрации текстур - максимальное.
        Качество теней - максимальное.
        Качество геометрии мира и растительности - максимальное.
        Качество окружения - максимальное.
        Качество воды - высокое.
        Качество ландшафта - высокое.
        Качество объемного тумана - высокое.
        Сглаживание - SMAA.
        Размытие в движении - включено.
        Масштаб поля зрения - 90.
        Масштаб разрешения - 1.0.


720x578 62 KB

Far Cry New Dawn

    Версия 1.0.4.
    DirectX 11.
        Качество фильтрации текстур - максимальное.
        Качество теней - максимальное.
        Качество геометрии мира и растительности - максимальное.
        Качество окружения - максимальное.
        Качество воды - высокое.
        Качество ландшафта - высокое.
        Качество объемного тумана - высокое.
        Текстуры HD - включены.
        Сглаживание - SMAA.
        Размытие в движении - включено.
        Масштаб поля зрения - 90.
        Масштаб разрешения - 1.0.



HITMAN



    Версия 1.14.3.
    DirectX 12.
        Постэффект сглаживания - FXAA.
        Анизотропная фильтрация - х16.
        Уровень детализации - ультра высокий.
        Качество текстур - высокое.
        Сложное затенение (SSAO) - включено.
        Качество теней - ультра высокое.
        Качество разрешения - высокое.


720x578 62 KB

HITMAN 2



    Версия 2.24.0.
    DirectX 12.
        Сглаживание - SSAA 1.00.
        Уровень детализации - ультра высокий.
        Качество текстур - высокое.
        Фильтрация текстур - анизотропная х16.
        Сложное затенение (SSAO) - включено.
        Качество теней - ультра высокое.
        Контактные тени - включены.
        Качество отражений - высокое.
        Качество размытия в движении - высокое.
        Динамическое увеличение резкости - сильное.
        Качество моделирования - наилучшее.


720x578 62 KB

Metro Exodus



    Версия 1.0.0.8.
    DirectX 12.
        Качество изображения - ультра высокое.
        Фильтрация текстур - анизотропная х16.
        Размытие в движении - нормальное.
        Тесселяция - полная.
        Продвинутый PhysX - выключен.
        Технология Hairworks - выключена.
        Трассировка лучей - ультра высокая.
        Технология DLSS - включена.
        Качество шейдеров - 100% (выключено).

720x578 62 KB

Resident Evil 2



    Версия 1.0.3.
    DirectX 12.
        Режим отрисовки - обычный.
        Качество изображения - 100%.
        Сглаживание - FXAA.
        Качество текстур - высокое.
        Качество фильтрации текстур - высокое.
        Качество сетки - максимальное.
        Качество теней - максимальное.
        Кэширование теней - включено.
        Контактные тени - включены.
        Отражения в экранном пространстве - включены.
        Подповерхностное рассеивание - включено.
        Качество объемных лучей - высокое.
        Качество освещения частиц - высокое.
        Объемный свет - HBAO+.
        Свечение - включено.
        Блик в объективе - включен.
        Размытие в движении - включено.
        Глубина резкости - включена.
        Хроматическая аберрация - включена.
        Зернистость - включена.

720x578 62 KB

Shadow of the Tomb Raider



    Версия 1.0 build 292.0_64.
    DirectX 12.
        NVIDIA RTX DLSS - включена.
        Модификатор разрешения - 100%.
        Качество текстур - ультра высокое.
        Анизотропная фильтрация - х16.
        Качество трассировки лучей - ультра высокое.
        Сложное затенение - HBAO+.
        Качество глубины резкости - высокое.
        Уровень детализации - ультра высокий.
        Тесселяция - включена.
        Засветка - включена.
        Эффект скорости - включен.
        Пространственные отражения - включены.
        Качество screen space contact shadows - высокое.
        Качество симуляции волос - низкое.
        Объемное освещение - включено.
        Блики - включены.
        Эффекты экрана - включены.

720x578 62 KB

World War Z


    Версия 1.21.
    Vulkan.
        Детализация объектов - ультра высокая.
        Сглаживание - FXAA.
        Качество пост-обработки - ультра высокое.
        Качество теней - ультра высокое.
        Качество освещения - ультра высокое.
        Качество эффектов - ультра высокое.
        Качество текстур - ультра высокое.
        Фильтрация текстур - ультра высокая.

720x578 62 KB

Среднегеометрические результаты процессоров в двенадцати играх