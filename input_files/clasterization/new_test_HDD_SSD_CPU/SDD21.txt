
SSD-накопитель Plextor M8SeY емкостью 512 ГБ
Практическая реализация протокола NVMe на базе TLC-памяти    
Методика тестирования
накопителей образца 2016 года

Как мы и предполагали изначально, все большее количество производителей SSD начинает пополнять свои продуктовые линейки NVMe-накопителями на базе TLC-памяти. Это вызывает недоумение части пользователей, но лишь потому, что они привыкли считать поддержку этого протокола атрибутом решений для энтузиастов. Как привыкли — так и отвыкнут :) На деле этот протокол просто лучше подходит для твердотельных накопителей, нежели старомодный AHCI, разрабатывавшийся для винчестеров, а расходы по их реализации сопоставимы. Более высокая цена NVMe-контроллеров — всего лишь следствие элитарного статуса на старте продаж. Но в целом на данный момент уже ничто не мешает NVMe стать основным стандартом для новых систем. Тем более, что в перспективе его использование может позволить даже снизить их цену. А для этого надо начинать выпускать массовые недорогие устройства.

Конечно, не нужно забывать о присущих TLC недостатках в виде более низких скорости и надежности, но и переоценивать их не нужно. На практике важнее, что и скорости, и надежности достаточно для дома для семьи. То есть использовать такие накопители в высоконагруженных системах не стоит, но с типичными объемами записи они справляются «одной левой». А более низкие цены стимулируют покупку более емкого устройства, что повышает надежность — понятно, не до уровня MLC, так как TLC-память имеет существенно отличающийся ресурс, но и другие характеристики этих двух типов устройств тоже отличаются. В конце концов, если TLC вызывает опасения, можно выбрать что-то другое — главное, чтобы выбор вообще был, а для этого нужно выпускать и то, и другое. Вот производители этим и занимаются.
Plextor M8Se 512 ГБ

Еще одна причина, позволяющая легко освоить выпуск NVMe-накопителей на базе TLC-памяти — там на самом деле особо и нечего «осваивать». К примеру, прошлой осенью мы изучали линейку M8Pe, где контроллер Marvell 88SS1093 работал в тесной кооперации с 15-нанометровой MLC-памятью Toshiba. Что будет, если вместо нее установить 15-нанометровую TLC-память того же производителя и немного модифицировать прошивку? Получится как раз M8Se. Дело в том, что при разработке 88SS1093 производитель сразу учел нужды этого рынка — в частности, этот контроллер поддерживает LDPC-коды, а также SLC-кэширование. Первое немного увеличивает ресурс (по заявлениям производителей памяти и контроллеров — аж в три раза), второе — производительность. Впрочем, поддерживается только статическое кэширование, причем размер буфера относительно невелик: аналогично накопителям на SATA-контроллерах Marvell, его тут примерно 1/80 от емкости, так что даже старшая модификация в линейке после записи чуть более 12 ГБ данных заметно снизит производительность. Для более «ходовых» по емкости накопителей этот эффект будет выражен еще сильнее, что увеличивает вероятность встречи с ним на практике. Переход к динамическому кэшированию решил бы проблему (по крайней мере, пока на устройстве есть свободное место), но, к сожалению, динамическое кэширование пока поддерживается лишь редкими контроллерами.

Для некоторого увеличения скорости работы в старших модификациях также удвоен размер буфера (по сравнению с более дорогой моделью Plextor): если 1 ГБ LPDDR3-1600 был установлен лишь в терабайтном M8Pe, то у M8Se такой буфер есть уже в версии с 512 ГБ флэш-памяти, а бюджетный терабайтник получил все 2 ГБ DRAM-буфера. Впрочем, мы до сих пор так и не обнаружили какого-либо влияния емкости кэш-памяти на производительность: очевидно «проваливаются» в тестах лишь «бескэшевые» модели, но когда DRAM-буфер есть, конкретная его емкость в бытовых сценариях второстепенна (а на какие-либо иные сценарии накопители на базе TLC-памяти все равно не претендуют).

В основном же M8Se является практически близнецом M8Pe и тоже поставляется в виде трех линеек. «Базовой» всегда является простая плата M.2 2280 без каких-либо дополнительных элементов. Такая модификация в рознице продается, например, под названием PX-512M8SeGN, где цифры означают количество флэш-памяти. Чуть выше по позиционированию PX-512M8SeG, снабженный радиатором, закрывающим всю поверхность платы.

А для настоящих энтузиастов предлагается наиболее навороченный вариант — низкопрофильная PCIe-плата M8SeY. По сути, это просто переходник, куда устанавливается сам накопитель, только радиатор в данном случае еще больше: его масса превышает 125 г. Выполнен он в черно-синей цветовой гамме, а сама плата-переходник снабжена подсветкой синего цвета, эффектно мигающей сообразно дисковой активности. В M8PeY все было точно так же — только вместо синего цвета использовался красный.

Насколько вообще необходимо охлаждение? В принципе, Marvell 88SS1093 считается одним из самых горячих контроллеров, а данных через себя прокачать может много — в отличие от типичных SATA-контроллеров. Соответственно, если хорошо постараться, то можно, в полном соответствии с хорошей поговоркой, известно что сдуру сломать... Точнее, перегреть :) Для этого даже на открытом стенде без радиаторов достаточно примерно минуты интенсивных операций записи. Однако запись должна быть именно интенсивной — простое копирование данных «не поможет», да еще и данные эти где-то надо «добыть». А «разогревшись», контроллер просто снизит скорость работы до примерно 100 МБ/с, чего на деле современному прикладному ПО вполне достаточно. Впрочем, если ориентироваться на потребности прикладных программ, то и смысл в приобретении NVMe-устройства пока еще не слишком высок, но по мере снижения уровня цен (для чего, собственно, и выпускаются подобные устройства) он будет расти. И вот здесь как раз, по замыслу компании, и «сыграют» радиаторы на модификациях M8SeY и M8SeG, поскольку они позволяют не заботиться о дополнительном охлаждении даже при тяжелых синтетических нагрузках. Правда, модель M8SeG может оказаться в неудачном окружении: слоты М.2 на материнских платах зачастую размещаются непосредственно около слотов для видеокарт с частичным или полным перекрытием системой охлаждения последних. Но, повторимся, в обычных бытовых сценариях столкнуться с перегревом не получается и вовсе без радиаторов, а на иные сценарии эта серия устройств Plextor и не рассчитана.
Методика тестирования и конкуренты

Методика подробно описана в отдельной статье. Там можно познакомиться с используемым аппаратным и программным обеспечением.

Отметим, что, подобно ранее протестированным накопителям на этом контроллере, M8Se нуждается в определенной настройке. Windows 10 изначально содержит драйвер для NVMe-устройств, однако если системе не запретить очистку буфера кэша записей (что делается в свойствах устройства), производительность в ряде сценариев оказывается удручающе низкой. Поэтому сегодня мы будет использовать лишь результаты, полученные в «правильном» программном окружении — тем более, что точно так же тестировался и M8Pe 512 ГБ, который имеет смысл сравнить с новинкой. Также мы возьмем для сравнения Plextor M7VG 512 ГБ, относящийся к более низкому классу, чтобы посмотреть, что может дать NVMe-контроллер накопителю на TLC-памяти. И еще мы взяли Patriot Hellfire 240 ГБ, представляющий собой реализацию бюджетной NVMe-платформы, но с MLC-флэшем.
Производительность в приложениях

В принципе, ничего неожиданного — как не раз уже было сказано, современным приложениям в основной их массе вполне достаточно практически любого современного SSD, а кто там из них потенциально быстрее — уже не важно, раз «узкими местами» являются другие компоненты системы. M7V, впрочем, немножко медленнее прочих, но не принципиально.

Да, потенциально он может оказаться значительно более медленным — если мы когда-нибудь доживем до этого времени. Но и продаваемые сейчас накопители к тому моменту окажутся в такой же ситуации :)

Аналогичное положение дел и в предыдущей версии тестового пакета. Если бы программы могли работать быстрее, потенциальные возможности накопителей оказались бы раскрыты более полно, что видно в RAW-режиме, но раз они не могут, то все испытуемые оказываются примерно одинаковыми по скорости.
Последовательные операции

Результаты M7V можно не принимать во внимание: при таких нагрузках интерфейс имеет решающее значение, а пропускная способность SATA600 давно уже «выбрана» полностью. В остальном никаких неожиданностей: при чтении M8Se примерно эквивалентен M8Pe — как и должно быть.

На записи же он, разумеется, медленнее, особенно в многопоточном режиме, с которым не слишком хорошо справляется SLC-кэширование — в итоге производительность падает до уровня SATA-накопителей. А вот там, где кэш работает, результат такой, какого можно ожидать от использования интерфейса PCIe. Цифры все равно ниже, чем у топовых накопителей с таким интерфейсом, но вполне соответствуют заявленным значениям.
Случайный доступ

При «небольшой» глубине очереди (что, в общем-то, на практике встречается куда чаще, чем обратное) M8Se может даже обгонять M8Pe. В этом нет ничего неожиданного: с операциями чтения оба распространенных сегодня типа NAND-флэша справляются примерно одинаково хорошо, а контроллер у этих накопителей один и тот же.

Запись — отдельная история, особенно если это интенсивная многопоточная запись: как уже было отмечено выше, даже при линейной нагрузке SLC-кэширование с таким сценарием не справляется. С другой стороны, а чего еще ждать от TLC-памяти, независимо от интерфейса? Очевидно, что ее использование продиктовано необходимостью снижения цены, а не повышения производительности. Для последнего в перспективе от NAND-флэша, возможно, придется отказаться совсем.

Но в прикладном ПО на данный момент все же чаще встречается чтение, причем и блоками больше 4К, но с единичной очередью команд (более длинная в массовом персональном компьютере просто «не успевает собраться»). И в таких сценариях производительность M8Se не рекордная, но, в общем-то, чуть более высокая, чем у SATA-накопителей с тем же типом памяти. Так что и в этом сегменте какой-никакой выигрыш от перехода на новые интерфейсы есть.
Работа с большими файлами

В основном мы видим закрепление пройденного, причем влияние SLC-кэширования выражено слабо, поскольку емкости кэша, как уже было сказано выше, заведомо недостаточно для того, чтобы «ворочать» 32 ГБ данных. Так что внимания здесь заслуживает лишь то, что с одновременными операциями записи и чтения M8Se, несмотря на «бюджетную» память, справляется лучше, чем Patriot Hellfire 240 ГБ, AData XPG SX8000 256 ГБ и любые твердотельные накопители с SATA-интерфейсом, независимо от типа и объема памяти. Что ж, как видим, новые технологии и в бюджетном сегменте иногда работают даже там, где от них ничего особенного не ожидалось.
Рейтинги

С низкоуровневыми операциями все понятно: с чтением M8Se справляется на уровне других NVMe-устройств, а вот при записи ощутимо от них отстает. C другой стороны, даже при использовании TLC-памяти некоторые низкоуровневые сценарии уже восприимчивы к интерфейсу, так что «попугаев» все равно удается «набрать» больше, чем позволяют любые SATA-накопители, в том числе и с более дорогими типами памяти, то есть (потенциально) более дорогие. Ради этого во многом и затевается выпуск SSD на удивительной для «нормального энтузиаста» связке NVMe+TLC :)

В общем и целом же M8Se спокойно встраивается в плотную группу накопителей под PCIe и оказывается даже не самым медленным из протестированных на данный момент :)
Цены

В таблице перечислены средние розничные цены протестированных сегодня SSD-накопителей в Москве, актуальные на момент чтения вами данной статьи:
Patriot Hellfire 240 ГБ 	Plextor M7VG 512 ГБ 	Plextor M8PeY 512 ГБ 	Plextor M8SeY 512 ГБ
T-1722811987 	T-13756292 	T-1711601901 	T-1728657087
Итого

Постепенный переход индустрии твердотельных накопителей на PCIe и NVMe неизбежен, как кризисы при капитализме. Действительно, по сути своей использование для этого класса устройств интерфейса SATA и протокола AHCI является лишь данью совместимости: долгое время SSD приходилось прикидываться чем-то похожим на «классические» дисковые устройства, чтобы их было куда устанавливать и где использовать. Однако медленно, но верно растет количество новых систем, где новые протоколы и интерфейсы (изначально разработанные с ориентацией на твердотельные накопители, а не унаследованные от совсем других по логике работы устройств) никаких проблем несовместимости не вызывают.

Естественно, для успеха на массовом рынке нужно отвечать требованиям массового же рынка — в первую очередь, по цене. Пока еще накопители с PCIe и NVMe продаются дороже, нежели более привычные SSD в «ноутбучных» корпусах. Зачастую это оправдывается их способностью демонстрировать рекорды производительности, но, разумеется, к сегменту устройств на TLC-памяти это не относится. А ценовой фактор в их случае, как нам кажется, пока не разыгран: фактически в розничных сетях на момент написания статьи цены Plextor M8Pe и M8Se одинаковой емкости различались совсем незначительно, что делало более оправданной покупку первого. Либо уж тогда имеет смысл приобретать заметно более дешевый M7V, получив достаточное с точки зрения практических задач быстродействие. С другой стороны, увеличение конкуренции и объемов производства как раз обычно и сказывается благотворно на ценах, так что в перспективе можно ожидать исчезновения разницы между аналогичными по внутреннему устройству SATA- и NVMe-накопителями. А в равных условиях вторые всегда предпочтительнее или, как минимум, не хуже. Но как будут развиваться события — покажет только время.

В заключение предлагаем посмотреть наш видеообзор SSD-накопителя Plextor M8SeY: