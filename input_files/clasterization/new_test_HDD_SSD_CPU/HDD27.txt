Трёхтерабайтный жесткий диск WD30EZRS - исследуем неисследованное 
Вступление

С момента появления трехтерабайтных жестких дисков прошло более полугода. Многие интернет-издания уже давно выпустили обзоры данной модели. В такой ситуации мне приходится быть в роли догоняющего, но в этом есть и свой плюс: можно уделить особое внимание тем моментам, которые слабо освещены другими авторами. В статье будет сделан акцент на преодолении рубежа в 2 ТБайта и особенностях работы диска на разных платформах.

Участники тестирования

WD30EZRS

145x200 11 KB. Big one: 720x1000 148 KB 145x200 9 KB. Big one: 720x1000 129 KB

250x125 9 KB. Big one: 1000x491 70 KB

Вот, собственно, диск. Он относится к экономичной линейке «Green», собран из четырех пластин (750 Гбайт на пластину), обладает скоростью вращения 5400 об/мин и кэшем 64 Мбайт. Дополнительный номер модели 00J99B0, версия прошивки 80.00A80.

Накопитель использует технологию Advanced Format, но особенности работы с секторами 4 Кбайта лежат несколько в другой плоскости, к проблеме границы в 2 ТБайта это не относится. В настоящее время во всех аналогичных моделях применяется неотключаемая эмуляция 512-байтовых секторов, так что подобные диски могут работать на любых системах наравне со своими классическими собратьями. Но, как и всем винчестерам с AF, WD30EZRS может потребоваться выравнивание раздела.

Недавно состоялся тихий анонс новой модели WD30EZRX с интерфейсом SATA-III. К сожалению, взять ее на тестирование не удалось.

WD20EАRS

145x200 11 KB. Big one: 720x1000 145 KB 145x200 9 KB. Big one: 720x1000 129 KB

250x125 9 KB. Big one: 1000x487 67 KB

Тестировать лишь один жесткий диск не так интересно, поэтому для понимания того, как далеко ушел прогресс, был взят двухтерабайтный диск из той же линейки. Его основные характеристики аналогичны: скорость вращения 5400 об/мин, кэш 64 Мбайт и технология Advanced Format. Дополнительный номер модели 00MVWB0 говорит о том, что это трехпластинная версия. Старые «четырехблинники» вмещали по 500 Гбайт на пластину и обладали более низкой скоростью линейного доступа, а 667-Гбайтные пластины позволяют не так сильно отставать от флагмана.

Тут необходимо пояснить, что емкость записи пластины формируется из плотности записи треков и плотности секторов. Последний параметр влияет на скорость линейного доступа и скоростью вращения, в то время как более плотные треки фактически ничего не дают. К сожалению, производители «взяли привычку» увеличивают емкость дисков в первую очередь за счет трековой плотности, но эмпирическое правило всё еще действует: более вместительные пластины позволяют рассчитывать на более высокие линейные скорости

Конфигурация тестовых стендов

Чтобы выяснить характер поведения трехтерабайтного диска, использовалось несколько систем. Полная конфигурация указана для первого стенда, для прочих – лишь отличия от него.

Платформа Intel Sandy Bridge (LGA 1155):

    Процессор: Intel Core i7-2600K, 3,4 ГГц (HT выкл, TB вкл);
    Система охлаждения: Scythe Yasya;
    Термоинтерфейс: КПТ-8;
    Материнская плата: Asus P8H67-M EVO (H67 степпинга B2, BIOS 1502);
    Оперативная память: Samsung M378B5673FH0-CH9, PC3-10600 (1333 МГц, 9-9-9-24), 2x2 Гбайт;
    Жесткий диск: WD Raptor WD740ADFD-00NLR5, 74 Гбайт;
    Видеокарта: Radeon HD 6950, 1 Гбайт GDDR5 (инженерный образец);
    Блок питания: Enermax Modu 87+, 700 Вт.

Используемое ПО:

    Операционная система 1: Windows 7 x64 SP1 Ultimate RUS;
    Операционная система 2: Windows XP x86 SP3 Pro RUS;
    Обновления операционной системы: все на 12.04.2011;
    Драйвер для видеокарты: Catalyst 11.3;
    Драйвер для SATA контроллера: Intel RST 10.1.

Платформа AMD K10.5 (Socket AM3):

    Процессор: AMD Phenom II X4 840, 3,2 ГГц;
    Материнская плата: Biostar TA870+ (AMD 870 + SB850, BIOS 87XADA11);

Используемое ПО:

    Драйвер для SATA контроллера: 11.4. 

Платформа Intel Penryn (LGA 775):

    Процессор: Intel Core 2 Duo E8400, 3 ГГц;
    Система охлаждения: Intel Box cooler;
    Материнская плата: Gigabyte GA-EP43-UD3L (P43 + ICH10, BIOS F6);
    Оперативная память: Corsair CM2X2048-6400C4DHX, PC2-6400 (800 МГц, 4-4-4-12), 2x2 Гбайт;
    Видеокарта: Sapphire Radeon HD 4350, 512 Мбайт DDR2.

Помимо стандартных комплектующих, использовались следующие компоненты:

    Контроллер HighPoint Rocket 620

147x200 8 KB. Big one: 734x1000 107 KB 147x200 6 KB. Big one: 739x1000 76 KB
250x137 9 KB. Big one: 1000x548 75 KB

200x200 15 KB

Western Digital поставляет эту малютку с каждым диском WD30EZRS, поскольку драйверы чипсетов большинства материнских плат не поддерживали накопители больше 2 ТБайт. В нем прошит BIOS Rocket 620 v1.1 и, в отличие от более дорогого RocketRAID, отсутствует поддержка массивов. Windows 7 опознает его самостоятельно, без дополнительных драйверов.

Не лишним будет озвучить интересный факт: этот контроллер в теории должен поддерживать SATA-III, я собирался использовать его для этой статьи, но накопители с таким интерфейсом вообще не определялись, а переключить их принудительно в режим SATA-II не было никакой возможности. Либо я один такой неудачник, либо данный экземпляр является неполноценным Rocket 620.

Контроллер Silicon Image SIL-3114

250x223 11 KB. Big one: 1000x893 114 KB 250x223 9 KB. Big one: 1000x896 79 KB
250x152 9 KB. Big one: 1000x608 76 KB
200x200 17 KB

Лучший из худших SATA контроллеров . За 500 рублей сложно требовать от него скорости, функциональности и стабильности. Поддерживается SATA лишь первой версии, но это вполне логично: пиковая пропускная способность PCI 33 МГц лишь 133 Мбайт/с – меньше, чем скорость одного SATA порта. К тому же, она делится между всеми устройствами на шине. «Чип» вообще очень древний, появился в 2003 году, если не раньше, тем не менее, он поддерживает адресацию 48-bit LBA, а соответствующее ПО регулярно обновляется (использовалась прошивка 5.4.0.3 и драйвер 1.5.20.3). Как показала практика, он способен работать с трёхтерабайтными дисками.

Внешний контейнер Agestar 3CB3AH1T

250x153 8 KB. Big one: 1000x612 55 KB 250x153 8 KB. Big one: 1000x651 62 KB
168x200 14 KB

С виду добротный внешний бокс для SATA винчестера 3,5”. Поддерживает USB 3.0 и eSATA, наделен хорошим охлаждением и термодатчиком. Приобретен мной для своих собственных нужд, но первое его применение будет именно в этой статье.

В итоге для испытаний WD30EZRS использовались девять платформ. Далее они всегда будут следовать именно в этом порядке:

    Intel Sandy Bridge, контроллер H67 в режиме AHCI, ОС Windows 7 x64;
    AMD Phenom II, контроллер SB850 в режиме AHCI , ОС Windows 7 x64;
    Intel Sandy Bridge, контроллер H67 в режиме AHCI, ОС Windows XP 32 бит;
    Intel Core 2 Duo, контроллер ICH10 в режиме AHCI, ОС Windows 7 x64;
    Intel Sandy Bridge, контроллер H67 в режиме IDE, ОС Windows 7 x64;
    Intel Sandy Bridge, контроллер Rocket 620, ОС Windows 7 x64;
    Intel Sandy Bridge, контроллер SIL-3114, ОС Windows 7 x64;
    Intel Sandy Bridge, контроллер USB 3.0, ОС Windows 7 x64;
    Intel Sandy Bridge, контроллер USB 2.0, ОС Windows 7 x64.

WD20EАRS тестировался только на первой из них.

Прочие режимы контроллеров будут проверены на возможность преодоления барьера 2 Тбайта. Запускать бенчмарки на них не планируется, информации и так много. 32-битный Windows 7 не тестировался, его основное отличие лишь в том, что он не может загружаться с подобного диска даже при использовании UEFI вместо BIOS. Надеюсь, такой накопитель никто и не будет использовать как системный, для этого существуют менее емкие, но более скоростные модели.

Методика тестирования

Глобальные настройки:

    В ОС не установлен никакой антивирус, способный влиять на замеры производительности дисков, в том числе Windows Defender.
    Отключена служба индексирования файлов, и фоновая дефрагментация. По той же причине.
    В Windows 7 отключен UAC, который делал невозможным работу некоторых тестовых программ.
    В момент снятия замеров не используются программы фонового мониторинга типа Crystal Disk info, HWMonitor, счетчиков perfmon и прочих.
    Кеш записи дисков настроен по умолчанию (в диспетчере устройств в свойствах диска на вкладке «политика»). Для SATA подключений поставлена галка «разрешить кэширование записей для этого устройства», «Повышенная производительность» не активирована. USB-устройства оптимизированы для быстрого удаления.
    На платформе AMD и Sandy Bridge накопители подключались к порту SATA-III.

Из набора тестовых приложений на этот раз исключены прикладные программы, поскольку на разных платформах результаты были бы искажены процессорозависимостью.

    HD Tune Pro 4.60. Один из самых популярных бенчмарков для накопителей. Использовался для получения графиков линейного чтения и записи и определения времени случайного доступа.

    Crystal Disk Mark 3.0 Завоевавший популярность тест, который позволяет измерить скорость диска в восьми режимах: чтение и запись при последовательном доступе, в случайном режиме крупными блоками по 512 Кбайт, мелкими блоками по 4 Кбайта и те же 4-Кбайтные запросы при длине очереди к диску в 32 запроса (проверка эффективности работы NCQ и механизмов распараллеливания нагрузки). Я использовал настройки по умолчанию, а именно пятикратный прогон на участке 1000 Мбайт. На Windows 7 применялась 64-битная версия, на Windowx XP – 32х.

    Intel NAS Performance Toolkit 1.7.1. NASPT – очень мощный тест, сопоставимый по функционалу с IOMeter, и разработанный прежде всего для тестирования сетевых накопителей. Я использовал как стандартные шаблоны, так и свой собственный, представляющий модель BitTorrent клиента.

    FC-test 1.0 build 11. В предыдущих обзорах программа работала над двумя NTFS разделами по 32 Гбайт. В этот раз было принято решение использовать полную емкость дисков и разбивать их пополам. Перед началом каждого замера компьютер перезагружался, весь процесс полностью автоматизирован.
    В качестве тестовых наборов использовались шаблоны Install (414 файлов общим объёмом 575 Мбайт), ISO (3 файла общим объёмом 1600 Мбайт) и Programs (8504 файл общим объёмом 1380 Мбайт). Для каждого набора измерялась скорость записи всего набора файлов на диск (тест Create), скорость чтения этих файлов с диска (Read), скорость копирования файлов внутри одного логического диска (Copy near) и скорость копирования на второй логический диск (Copy far). Агрессивное кэширование записи Windows 7 искажает результаты в тесте Create, поэтому я ограничусь обнародованием трёх оставшихся результатов для каждого шаблона.

    Модели BitTorrent клиента. Идеальная роль вместительного и экономичного накопителя - файловое хранилище для медиаколлекции. Большинство покупателей такого устройства наверняка будут использовать его для работы в файлообменных сетях. Я попытался смоделировать несколькими способами поведение самой популярной программы – uTorrent. Для этого использовался IOMeter 2006.07.27 и вышеупомянутый NASPT. Подробности в разделе тестирования производительности.

Рубеж 2 ТБайта: что, как и почему

Теория

В эту тему можно углубляться сколь угодно далеко, но я постараюсь не залезать в дебри. Для достижения успеха нужно сложить «слоеный пирог» из различных технологий. Невыполнение хотя бы одного условия лишает возможности нормально работать с подобным диском.

Материнская плата: BIOS / UEFI

Для загрузки с накопителей объемом более двух терабайт вместо классического BIOS необходим UEFI (Unified Extensible Firmware Interface), это связано с поддержкой GPT и MBR форматов. Для загрузки ОС BIOS всегда использует MBR, а загружать систему с GPT диска может только UEFI. Новые материнские платы теперь часто оснащаются этой системой, а вот старые почти поголовно лишены этой прелести. UEFI не всегда означает цветастый интерфейс и поддержку мышки, так что лучше всего обратиться к описанию на сайте производителя платы.

Если необходимости в загрузке с больших дисков нет, то можно обойтись и без UEFI.

Адресация: 48-bit LBA

Эта проблема была актуальна в 2003-2004 годах. Раньше повсеместно использовалась адресация 24-bit LBA, которая позволяла адресовать 2^24*512=128 Гбайт. Или 137 «десятичных» гигабайт, к которым уже все привыкли. Стандарт ATA-6 принес миру 48-bit LBA, что позволяет адресовать 128 Петабайт (или 144 в другой системе счисления). Windows 2000 SP2 и XP без обновлений не умели с ним работать, но с более поздними системами проблем нет. Актуальные на сегодняшний день контроллеры поддерживают этот стандарт, причем некоторые из них дошли уже до 64-bit LBA.

Прошивка и драйвер контроллера

Даже если с 48-bit LBA всё хорошо, возможны и другие ограничения. Обобщить их сложно, но за примерами далеко ходить не надо: чипсетные SATA контроллеры Intel научились распознавать диски более 2 ТБайт лишь после выхода последнего драйвера RST 10.1, хотя возможность собирать аналогичные RAID массивы была давно. Дешевые дискретные контроллеры, USB контейнеры, устройства типа медиаплееров и видеорегистраторов зачастую спотыкались и о более низкий порог без видимых причин.

Формат диска: GPT

Самая острая проблема, о которой все говорят. Новый формат размещения таблиц разделов GPT (или GUID) пришел на смену MBR – глобальное изменение с момента появления архитектуры IBM PC 30 лет назад. MBR не в состоянии адресовать раздел за пределами двухтерабайтной отметки при использовании 512-байтовых секторов. Теоретически размер сектора можно увеличить, технология Advanced Format с ее эмуляцией это промежуточный этап. Но к родным 4-Кбайтовым секторам индустрия еще не готова. В частности, Microsoft пока не поддерживает такие диски даже в Windows 7 SP1, но работа в данном направлении ведется. Вот официальная статья на эту тему. Кстати, в ней же сказано, что использовать диски с Advanced Format на Windows XP настоятельно не рекомендуется.

Созданием разных разделов тут не обойтись, так как загвоздка на более низком уровне. Использовать MBR может только отдельное устройство, видимое в загрузочном меню. В RAID массиве можно создать несколько LUN’ов (Logical Unit Number) – виртуальных дисков, которые определяются в BIOS как физические – в этом случае большой объем можно «порубить» на области менее 2 Тбайт и использовать MBR. Но с одиночным диском такой номер не пройдет.

GPT диски поддерживаются Windows XP x64, Vista обоих разрядностей и более поздними. Объем, адресуемый новым форматом, исчисляется зеттабайтами (миллиарды терабайт). Самый популярный 32-битный XP в этом плане безнадежно устарел.

Файловая система

Если вы выполнили все вышеперечисленные условия и даже успешно разобрались с GPT, то получили большой пустой контейнер, в котором еще предстоит разместить логические разделы, то есть файловую систему. С FAT32 при использовании самых больших кластеров теоретически возможно создать том до 8 ТБайт, хотя далеко не каждая программа для форматирования способна это реализовать. NTFS в (Windows 2000 и старше) со стандартными 4-Кбайтными кластерами поддерживает тома до 16 ТБайт, при использовании максимальных – 256 ТБайт. Предел для линуксовых ext2/ext3 – 32 ТБайта. Как видите, запас еще есть, хотя исчерпание этих возможностей не за горами.

Практика

Платформа Intel Sandy Bridge (LGA 1155):

В режимах IDE и AHCI под Windows 7 проблем не было. Диск корректно определяется и после преобразования в GPT нормально работает. А с RAID режимом не все ладно. При такой конфигурации в Intel RST тот порт, к которому подключен трёхтерабайтник, стал определяться как свободный, а другие свободные порты вообще исчезли.

450x339 19 KB. Big one: 602x454 76 KB

Официального подтверждения этой проблемы я не нашел, но в этой новости у иностранных коллег сказано, что Intel и не обещал такой поддержки. Если вы собирались использовать RAID массив, например, для системы совместно с большим диском для хранения, вы будете вынуждены подключать их к разным контроллерам, либо ждать выхода версии RST старше 10.1.

Платформа AMD K10.5 (Socket AM3):

C AMD не возникло вообще никаких проблем. WD30EZRS нормально определился и в AHCI, и в RAID режимах контроллера.

450x324 27 KB. Big one: 759x547 93 KB
Платформа Intel Penryn (LGA 775):

Всё было идентично Sandy Bridge, в режимах IDE и AHCI всё хорошо. RAID я проверить не мог, поскольку южный мост на плате всего лишь ICH10, без R. На форумах встречаются жалобы, что из трех терабайт может быть доступно только 750 Гбайт – первые 2 (честных) терабайта исчезают. Надеюсь, Intel в скором времени изменит ситуацию к лучшему.

Контроллер HighPoint Rocket 620

На этапе загрузки BIOS нормально видит большой диск, драйвер Windows 7 его успешно подхватывает.

Контроллер Silicon Image SIL-3114

«Чип» c прошивкой 2007 года на удивление легко справился с поставленной задачей. В системе всё определилось корректно.

Внешний контейнер Agestar 3CB3AH1T

Производитель ничего не говорит о поддержке больших дисков, тем не менее, накопитель WD успешно завёлся в этом боксе.

Paragon GPT Loader и Asus Disk Unlocker

Два этих новых приложения позволяют обойти некоторые ограничения, которые есть на Windows XP. Давайте познакомимся с ними поближе.

Paragon GPT Loader

Компания Paragon создала одну из версий утилиты WD Align, а этот продукт позволяет Windows XP полноценно работать с GPT дисками! Выглядит это так:

450x342 17 KB. Big one: 770x585 68 KB

Первое, что предлагается, это конвертировать диск в GPT формат. На следующем шаге вы просто выбираете, какой именно (заметьте, полный объем уже сразу виден):

450x381 15 KB. Big one: 578x489 22 KB

После конвертации можно приступить к созданию разделов:

450x342 19 KB. Big one: 770x585 71 KB

В очередной раз нужно выбрать, с каким диском вы будете работать:

450x422 21 KB. Big one: 578x542 25 KB

На следующем шаге задать объем раздела:

450x422 19 KB. Big one: 578x542 26 KB

Назначить букву и метку тома:

450x422 16 KB. Big one: 578x542 23 KB

И вуаля, получаем 3 ТБайта на Windows XP! Дальнейшие тесты на ней стали возможны именно благодаря этому инструменту.

450x214 22 KB. Big one: 1056x503 62 KB

Скажу больше. GPT работает по всем правилам. Диск, преобразованный в этот формат, корректно распознается в Windows 7. Обратная совместимость тоже есть: созданный в «Семерке» том нормально работает на XP с GPT loader’ом.

Разделами на таком накопителе можно управлять из стандартной консоли, но учтите, что Advanced Format никто не отменял: XP требует последующего выравнивания разделов.

450x301 15 KB. Big one: 779x521 38 KB

Форматирование через GPT loader избавляет от подобной нужды, но если вы по привычке создали раздел стандартными средствами и забыли про WD Align, то получите существенное падение производительности. Вот результат краткого теста в Crystal Disk Mark:

Выровненный | Не выровненный

250x229 16 KB. Big one: 406x372 32 KB 250x229 16 KB. Big one: 406x372 30 KB

На случайной записи невооруженным глазом видно падение производительности в разы.

Теперь о грустном. Во-первых, производитель заявляет, что этот инструмент позволяет обойти ограничение драйвера Intel даже на Windows 7. У меня ничего не вышло, так как пока контроллер работает в режиме RAID, диск просто отсутствует в системе как устройство.

Во-вторых, GPT loader официально работает только с внутренними одиночными дисками, никаких массивов или внешних контейнеров. Это действительно так:

450x381 14 KB. Big one: 578x489 21 KB

Если диск работает в USB контейнере, пространство за границей 2 ТБайт не определяется.

В-третьих, GPT диск уже нельзя конвертировать обратно в MBR без сторонних утилит. А в-четвертых, GPT loader стоит $20. Бесплатная бета версия (вышедшая в конце 2010 года) уже не доступна.

Наверняка кто-то из вас захочет обойти ограничение с MBR при помощи динамических дисков, ведь с их помощью можно было собирать большие RAID массивы. Можете сразу оставить эту идею, попытка преобразования приводит к ошибке: 
Asus Disk Unlocker

Asus предлагает свое решение проблемы: волшебную утилиту Disk Unlocker, работающую по неизвестному принципу.

397x316 13 KB

Буквально в один клик накопитель «раскалывается» на два: «реальные» 2 терабайта и виртуальный остаток.

397x316 14 KB

В управлении дисками получается такая картина:

450x294 21 KB. Big one: 746x488 32 KB

Да, большого единого пространства вы не получите, зато нет нужды использовать GPT. Интересно, что получится, когда выйдут диски объемом более 4 Тбайт?

Последняя хорошая новость заключается в том, что удалось «взломать» внешний USB диск. Paragon GPT loader с этим не справился:

397x316 14 KB

Теперь по традиции о плохом. WD Align не распознает виртуальный «хвост» как Advanced Format диск и не дает выровнять раздел на нем:

450x376 16 KB. Big one: 565x472 24 KB

Из-за этого производительность оказывается, мягко говоря, скромной. Даже линейные скорости будут не высоки, поскольку раздел находится в конце диска:

250x229 17 KB. Big one: 406x372 34 KB

Вдобавок учтите, что Unlocker вообще не видит диск, если он использует GPT формат.

450x281 17 KB. Big one: 809x506 82 KB

И на десерт. Данный продукт принадлежит компании Asus и работает только на материнских платах её производства. Попытка инсталлировать его на другой стенд (с Gigabyte GA-EP43-UD3L) заканчивается следующим:

446x162 4 KB

Тестирование производительности

HD Tune Pro

Intel H67 AHCI

Чтение | Запись

300x263 21 KB. Big one: 594x521 68 KB 300x263 21 KB. Big one: 594x521 67 KB

AMD SB850 AHCI
Чтение | Запись

300x263 22 KB. Big one: 594x521 69 KB 300x263 21 KB. Big one: 594x521 68 KB

Intel H67 AHCI (WinXP)
Чтение | Запись

300x265 23 KB. Big one: 586x517 45 KB 300x265 23 KB. Big one: 586x517 44 KB

Intel ICH10 AHCI
Чтение | Запись

300x263 22 KB. Big one: 594x521 66 KB 300x263 21 KB. Big one: 594x521 67 KB

Intel H67 IDE
Чтение | Запись

300x263 22 KB. Big one: 594x521 68 KB 300x263 21 KB. Big one: 594x521 68 KB

PCIe Rocket 620
Чтение | Запись

300x263 22 KB. Big one: 594x521 69 KB 300x263 22 KB. Big one: 594x521 70 KB

PCI Sil3114
Чтение | Запись

300x263 22 KB. Big one: 594x521 68 KB 300x263 23 KB. Big one: 594x521 70 KB

USB 3.0
Чтение | Запись

300x263 21 KB. Big one: 594x521 67 KB 300x263 21 KB. Big one: 594x521 68 KB

USB 2.0
Чтение | Запись

300x263 22 KB. Big one: 594x521 66 KB 300x263 22 KB. Big one: 594x521 69 KB

WD20EARS (H67 AHCI)
Чтение | Запись

300x263 21 KB. Big one: 594x521 68 KB 300x263 21 KB. Big one: 594x521 67 KB

При чтении через PCIe контроллер и USB 3.0 верхушка оказалась немного срезана, в результате чего максимальная скорость оказалась чуть ниже. PCI и USB 2.0 ограничивают скорость еще больше, причем контроллер SIL-3114 отметил преодоление рубежа 2 Тбайта падением скорости. На Windows XP HD Tune вообще не видит пространство за этой границей, минимальная скорость получилась высокой, а максимальная низкой. Остальные стенды дали вполне классические графики.

На записи USB 3.0 ужасен. Была проведена короткая проверка, с парой других внешних дисков 2,5” материнская плата работала нормально, так что это явно вина Agestar. USB 2.0 и оба дискретных контроллера тоже стали медленнее. Другие платформы поддерживают те же скорости, что и на чтении.

Обобщенные диаграммы выглядят следующим образом.

Скорость линейного чтения (мин | сред | макс), Мбайт/с
Intel H67 AHCI	
57	97	125	 
AMD SB850 AHCI	
57	98	131
Intel H67 AHCI (WinXP)	
83	99	125	 
Intel ICH10 AHCI	
57	98	131
Intel H67 IDE	
57	98	131
PCIe Rocket 620	
57	97	119	 
PCI Sil3114	
55	 	 	76
USB 3.0	
57	95	123	 
USB 2.0	
31	 
WD20EARS (H67 AHCI)	
47	88	120	 
 	
 	 	 	 	 	 	 
 	
0	 	20	 	40	 	60	 	80	 	100	 	120	 

Все системы, кроме USB 2.0 и PCI контроллера, показали себя достойно. Сам WD30EZRS в этой дисциплине оказался примерно на 10% быстрее своего двухтерабайтного предшественника.

Скорость линейной записи (мин | сред | макс), Мбайт/с
Intel H67 AHCI	
55	92	114	 
AMD SB850 AHCI	
55	93	117	 
Intel H67 AHCI (WinXP)	
77	93	 	104
Intel ICH10 AHCI	
56	95	125	 
Intel H67 IDE	
55	95	126
PCIe Rocket 620	
54	74	 	86
PCI Sil3114	
22	 	 	38
USB 3.0	
 	 	15	117	 
USB 2.0	
 	 	 	23
WD20EARS (H67 AHCI)	
48	86	117	 
 	
 	 	 	 	 	 	 
 	
0	 	20	 	40	 	60	 	80	 	100	 	120	 

От средней скорости USB 3.0 просто плакать хочется, она даже ниже чем у версии 2.0! PCI контроллер тоже мог бы работать и побыстрее. И обратите внимание: теоретически самая сильная система (H67 в режиме AHCI с Windows 7) оказалась самой медленной среди других полноценных платформ.

Время случайного доступа (чтение | запись), мс
Intel H67 AHCI	
15.4	18.4	 
AMD SB850 AHCI	
17.7	 	18.6
Intel H67 AHCI (WinXP)	
14.4	18	 
Intel ICH10 AHCI	
14.9	18.4	 
Intel H67 IDE	
15	18.5	 
PCIe Rocket 620	
15.4	18.4	 
PCI Sil3114	
15.4	18.4	 
USB 3.0	
15.3	19.1	 
USB 2.0	
15.3	18.4	 
WD20EARS (H67 AHCI)	
15.9	19	 
 	
 	 	 	 	 
 	
0	 	5	 	10	 	15	 	20	 

Стенд с Windows XP показывает наилучшее время доступа; напомню, что HD Tune не видит конца диска, и он функционирует в режиме короткого рабочего хода. Платформа AMD демонстрирует худшее время доступа на чтение, в остальном все участники почти равны.

Crystal Disk Mark

Скорость линейного чтения, Мбайт/с
Intel H67 AHCI	
126	 
AMD SB850 AHCI	
125	 
Intel H67 AHCI (WinXP)	
127
Intel ICH10 AHCI	
126	 
Intel H67 IDE	
126	 
PCIe Rocket 620	
125	 
PCI Sil3114	
91	 
USB 3.0	
125	 
USB 2.0	
36	 
WD20EARS (H67 AHCI)	
121	 
 	
 	 	 	 	 	 	 
 	
0	 	20	 	40	 	60	 	80	 	100	 	120	 

Подключение по USB 2.0 и через PCI контроллер ограничивают скорость, а другие способы нет. Отличия между двух- и трехтерабайтными дисками минимальны.

Скорость линейной записи, Мбайт/с
Intel H67 AHCI	
124
AMD SB850 AHCI	
123	 
Intel H67 AHCI (WinXP)	
124
Intel ICH10 AHCI	
124
Intel H67 IDE	
123	 
PCIe Rocket 620	
121	 
PCI Sil3114	
49	 
USB 3.0	
24	 
USB 2.0	
27	 
WD20EARS (H67 AHCI)	
117	 
 	
 	 	 	 	 	 	 
 	
0	 	20	 	40	 	60	 	80	 	100	 	120

К медленным системам добавился USB 3.0. Очень надеюсь, что другие контейнеры работают лучше.

Скорость случайного чтения (блок 512 Кбайт), Мбайт/с
Intel H67 AHCI	
43	 
AMD SB850 AHCI	
42	 
Intel H67 AHCI (WinXP)	
42	 
Intel ICH10 AHCI	
43	 
Intel H67 IDE	
44
PCIe Rocket 620	
43	 
PCI Sil3114	
38	 
USB 3.0	
42	 
USB 2.0	
23	 
WD20EARS (H67 AHCI)	
39	 
 	
 	 	 	 	 
 	
0	 	10	 	20	 	30	 	40	 

Недостатки USB 2.0 и PCI прослеживаются и здесь, хотя величина всех результатов уже не так велика. PCI шина уж точно может передавать более 40 Мбайт/сек, но она этого не делает.

Скорость случайной записи (блок 512 Кбайт), Мбайт/с
Intel H67 AHCI	
67	 
AMD SB850 AHCI	
67	 
Intel H67 AHCI (WinXP)	
72	 
Intel ICH10 AHCI	
66	 
Intel H67 IDE	
63	 
PCIe Rocket 620	
59	 
PCI Sil3114	
43	 
USB 3.0	
21	 
USB 2.0	
23	 
WD20EARS (H67 AHCI)	
76
 	
 	 	 	 
 	
0	 	20	 	40	 	60	 

Очень интересно. Ни один из способов подключения не помог трёхтерабайтнику обойти своего старого коллегу. Примечательно, что наиболее близка к успеху была платформа с Windows XP.

Скорость случайного чтения (блок 4 Кбайт), Мбайт/с
Intel H67 AHCI	
0.55	 
AMD SB850 AHCI	
0.55	 
Intel H67 AHCI (WinXP)	
0.55	 
Intel ICH10 AHCI	
0.56	 
Intel H67 IDE	
0.58
PCIe Rocket 620	
0.56	 
PCI Sil3114	
0.56	 
USB 3.0	
0.58
USB 2.0	
0.56	 
WD20EARS (H67 AHCI)	
0.54	 
 	
 	 	 	 	 	 
 	
0	 	0.1	 	0.2	 	0.30000000000000004	 	0.4	 	0.5	 

На маленьких блоках разницы фактически никакой, всё определяется самим диском.

Скорость случайной записи (блок 4 Кбайт), Мбайт/с
Intel H67 AHCI	
0.87	 
AMD SB850 AHCI	
0.91	 
Intel H67 AHCI (WinXP)	
0.91	 
Intel ICH10 AHCI	
0.86	 
Intel H67 IDE	
0.84	 
PCIe Rocket 620	
0.8	 
PCI Sil3114	
0.89	 
USB 3.0	
0.67	 
USB 2.0	
0.88	 
WD20EARS (H67 AHCI)	
1.13
 	
 	 	 	 	 	 
 	
0	 	0.2	 	0.4	 	0.6000000000000001	 	0.8	 	1	 

WD20EARS снова в лидерах.

Скорость случайного чтения (блок 4 Кбайт, длина очереди 32), Мбайт/с
Intel H67 AHCI	
1.27	 
AMD SB850 AHCI	
1.36	 
Intel H67 AHCI (WinXP)	
1.29	 
Intel ICH10 AHCI	
1.34	 
Intel H67 IDE	
0.58	 
PCIe Rocket 620	
1.38	 
PCI Sil3114	
0.58	 
USB 3.0	
0.57	 
USB 2.0	
0.55	 
WD20EARS (H67 AHCI)	
1.47
 	
 	 	 
 	
0	 	0.5	 	1	 

На длинной очереди прекрасно видно, у кого работает NCQ, а у кого нет. В аутсайдерах закономерно оказались оба USB подключения, PCI контроллер и IDE режим.

Скорость случайной записи (блок 4 Кбайт, длина очереди 32), Мбайт/с
Intel H67 AHCI	
0.92	 
AMD SB850 AHCI	
0.96	 
Intel H67 AHCI (WinXP)	
0.97	 
Intel ICH10 AHCI	
0.91	 
Intel H67 IDE	
0.82	 
PCIe Rocket 620	
0.82	 
PCI Sil3114	
0.78	 
USB 3.0	
0.62	 
USB 2.0	
0.77	 
WD20EARS (H67 AHCI)	
1.11
 	
 	 	 	 	 	 
 	
0	 	0.2	 	0.4	 	0.6000000000000001	 	0.8	 	1	 

С этим типом нагрузки более-менее нормально справляются только чипсетные контроллеры в режиме AHCI. И в который раз WD30EZRS проиграл во всех режимах. 
Intel NAS Performance Toolkit

HD Video Playback, Мбайт/с
Intel H67 AHCI	
120	 
AMD SB850 AHCI	
125	 
Intel H67 AHCI (WinXP)	
119	 
Intel ICH10 AHCI	
121	 
Intel H67 IDE	
125	 
PCIe Rocket 620	
121	 
PCI Sil3114	
89	 
USB 3.0	
126
USB 2.0	
36	 
WD20EARS (H67 AHCI)	
118	 

Проигрывание видео это фактически линейное чтение, результаты очень похожи на те, что были получены в Crystal Disk Mark.

2x HD Playback, Мбайт/с
Intel H67 AHCI	
115	 
AMD SB850 AHCI	
119	 
Intel H67 AHCI (WinXP)	
122	 
Intel ICH10 AHCI	
114	 
Intel H67 IDE	
120	 
PCIe Rocket 620	
116	 
PCI Sil3114	
81	 
USB 3.0	
120	 
USB 2.0	
35	 
WD20EARS (H67 AHCI)	
109	 

Два потока почти ничего не меняют. Забавно, что платформа с Windows XP немного ускорилась, а остальные замедлились.

4x HD Playback, Мбайт/с
Intel H67 AHCI	
104	 
AMD SB850 AHCI	
107	 
Intel H67 AHCI (WinXP)	
90	 
Intel ICH10 AHCI	
105	 
Intel H67 IDE	
108	 
PCIe Rocket 620	
105	 
PCI Sil3114	
78	 
USB 3.0	
99	 
USB 2.0	
32	 
WD20EARS (H67 AHCI)	
101	 
 	
 	 	 	 	 	 	 
 	
0	 	20	 	40	 	60	 	80	 	100	 	120	 

На четырех потоках XP занимает свое место позади, USB 3.0 довольно сильно сдает в процентном соотношении.

HD Video Record, Мбайт/с
Intel H67 AHCI	
177
AMD SB850 AHCI	
176	 
Intel H67 AHCI (WinXP)	
75	 
Intel ICH10 AHCI	
169	 
Intel H67 IDE	
176	 
PCIe Rocket 620	
151	 
PCI Sil3114	
66	 
USB 3.0	
48	 
USB 2.0	
36	 
WD20EARS (H67 AHCI)	
162	 
 	
 	 	 	 
 	
0	 	50	 	100	 	150	 

На этой операции записи можно отчетливо видеть, кому помогает кэширование Windows 7. С USB всё понятно, они оптимизированы для безопасного отключения, с XP тоже, он не настолько эффективно работал с памятью. Но почему PCI контроллер работает в «сыром виде», а H67 даже в режиме IDE выдает больше максимальной скорости диска?

HD Video Playback and Record, Мбайт/с
Intel H67 AHCI	
167	 
AMD SB850 AHCI	
190
Intel H67 AHCI (WinXP)	
101	 
Intel ICH10 AHCI	
167	 
Intel H67 IDE	
167	 
PCIe Rocket 620	
177	 
PCI Sil3114	
92	 
USB 3.0	
41	 
USB 2.0	
28	 
WD20EARS (H67 AHCI)	
159	 
 	
 	 	 	 
 	
0	 	50	 	100	 	150	 

Совмещенное чтение и запись во многом повторяет картину на предыдущем шаге.

Content Creation, Мбайт/с
Intel H67 AHCI	
16.6	 
AMD SB850 AHCI	
14	 
Intel H67 AHCI (WinXP)	
7	 
Intel ICH10 AHCI	
16.7	 
Intel H67 IDE	
17.1
PCIe Rocket 620	
17.1
PCI Sil3114	
7.8	 
USB 3.0	
3.5	 
USB 2.0	
3.4	 
WD20EARS (H67 AHCI)	
16	 
 	
 	 	 	 
 	
0	 	5	 	10	 	15	 

Сложный шаблон Content Creation поставил USB буквально на колени. И это при том, что пиковая пропускная способность шины на порядок больше.

Office Productivity, Мбайт/с
Intel H67 AHCI	
73	 
AMD SB850 AHCI	
52	 
Intel H67 AHCI (WinXP)	
53	 
Intel ICH10 AHCI	
58	 
Intel H67 IDE	
72	 
PCIe Rocket 620	
71	 
PCI Sil3114	
61	 
USB 3.0	
51	 
USB 2.0	
37	 
WD20EARS (H67 AHCI)	
75
 	
 	 	 	 
 	
0	 	20	 	40	 	60	 

В этом тесте всегда происходят чудеса. У платформы AMD получился неадекватно низкий результат, а PCIe контроллер неожиданно показал себя одним из лучших.

File Copy To NAS, Мбайт/с
Intel H67 AHCI	
188
AMD SB850 AHCI	
182	 
Intel H67 AHCI (WinXP)	
87	 
Intel ICH10 AHCI	
186	 
Intel H67 IDE	
186	 
PCIe Rocket 620	
167	 
PCI Sil3114	
78	 
USB 3.0	
51	 
USB 2.0	
38	 
WD20EARS (H67 AHCI)	
171	 
 	
 	 	 	 
 	
0	 	50	 	100	 	150	 

Результаты почти полностью повторяют полученные в шаблоне HD Video Record.

File Copy From NAS, Мбайт/с
Intel H67 AHCI	
117	 
AMD SB850 AHCI	
124
Intel H67 AHCI (WinXP)	
123	 
Intel ICH10 AHCI	
117	 
Intel H67 IDE	
123	 
PCIe Rocket 620	
117	 
PCI Sil3114	
78	 
USB 3.0	
120	 
USB 2.0	
34	 
WD20EARS (H67 AHCI)	
115	 
 	
 	 	 	 	 	 	 
 	
0	 	20	 	40	 	60	 	80	 	100	 	120

А эти мало отличаются от HD Video Playback.

Directory Copy To NAS, Мбайт/с
Intel H67 AHCI	
369	 
AMD SB850 AHCI	
268	 
Intel H67 AHCI (WinXP)	
 	19
Intel ICH10 AHCI	
361	 
Intel H67 IDE	
558	 
PCIe Rocket 620	
355	 
PCI Sil3114	
 	36
USB 3.0	
 	14
USB 2.0	
 	12.6
WD20EARS (H67 AHCI)	
573
 	
 	 	 	 	 	 
 	
0	 	100	 	200	 	300	 	400	 	500	 

Кэш Windows отработал по полной программе. Странно, что WD30EZRS лучше всего чувствует себя в режиме IDE.

Directory Copy from NAS, Мбайт/с
Intel H67 AHCI	
40	 
AMD SB850 AHCI	
40	 
Intel H67 AHCI (WinXP)	
60
Intel ICH10 AHCI	
45	 
Intel H67 IDE	
47	 
PCIe Rocket 620	
40	 
PCI Sil3114	
34	 
USB 3.0	
39	 
USB 2.0	
23	 
WD20EARS (H67 AHCI)	
45	 
 	
 	 	 
 	
0	 	20	 	40	 	60

Данный тест содержит только операции чтения, в нем кэшировать нечего, но платформа с Windows XP определенно жульничает. Может быть, нужно благодарить Paragon GPT Loader?

Photo Album, Мбайт/с
Intel H67 AHCI	
44
AMD SB850 AHCI	
25	 
Intel H67 AHCI (WinXP)	
26	 
Intel ICH10 AHCI	
32	 
Intel H67 IDE	
38	 
PCIe Rocket 620	
41	 
PCI Sil3114	
30	 
USB 3.0	
39	 
USB 2.0	
16	 
WD20EARS (H67 AHCI)	
44
 	
 	 	 	 	 
 	
0	 	10	 	20	 	30	 	40	 

Результаты воспроизведения трассы фотоальбома не менее странные, чем в Office Productivity. В чем логика, непонятно.

FC-test

Read

ISO, Мбайт/с
Intel H67 AHCI	
115	 
AMD SB850 AHCI	
118
Intel H67 AHCI (WinXP)	
112	 
Intel ICH10 AHCI	
118
Intel H67 IDE	
118
PCIe Rocket 620	
115	 
PCI Sil3114	
84	 
USB 3.0	
118
USB 2.0	
35	 
WD20EARS (H67 AHCI)	
111	 
Install, Мбайт/с
Intel H67 AHCI	
90	 
AMD SB850 AHCI	
97	 
Intel H67 AHCI (WinXP)	
89	 
Intel ICH10 AHCI	
100	 
Intel H67 IDE	
94	 
PCIe Rocket 620	
93	 
PCI Sil3114	
67	 
USB 3.0	
82	 
USB 2.0	
30	 
WD20EARS (H67 AHCI)	
94	 
Programs, Мбайт/с
Intel H67 AHCI	
58	 
AMD SB850 AHCI	
56	 
Intel H67 AHCI (WinXP)	
73	 
Intel ICH10 AHCI	
61	 
Intel H67 IDE	
70	 
PCIe Rocket 620	
55	 
PCI Sil3114	
46	 
USB 3.0	
43	 
USB 2.0	
22	 
WD20EARS (H67 AHCI)	
53	 
 	
 	 	 	 	 	 
 	
0	 	20	 	40	 	60	 	80	 	100	 

На больших файлах тип платформы дает минимальное влияние на диск (кроме USB 2.0 и PCI конечно). На мелких приятный сюрприз преподносят «глупые» Windows XP и IDE режим.

Copy Near

ISO, Мбайт/с
Intel H67 AHCI	
48	 
AMD SB850 AHCI	
48	 
Intel H67 AHCI (WinXP)	
48	 
Intel ICH10 AHCI	
48	 
Intel H67 IDE	
48	 
PCIe Rocket 620	
48	 
PCI Sil3114	
30	 
USB 3.0	
25	 
USB 2.0	
14.2	 
WD20EARS (H67 AHCI)	
52	 
Install, Мбайт/с
Intel H67 AHCI	
55	 
AMD SB850 AHCI	
66	 
Intel H67 AHCI (WinXP)	
31	 
Intel ICH10 AHCI	
60	 
Intel H67 IDE	
65	 
PCIe Rocket 620	
67
PCI Sil3114	
39	 
USB 3.0	
18.9	 
USB 2.0	
12.3	 
WD20EARS (H67 AHCI)	
52	 
Programs, Мбайт/с
Intel H67 AHCI	
29	 
AMD SB850 AHCI	
27	 
Intel H67 AHCI (WinXP)	
17.3	 
Intel ICH10 AHCI	
28	 
Intel H67 IDE	
29	 
PCIe Rocket 620	
26	 
PCI Sil3114	
18.5	 
USB 3.0	
12.4	 
USB 2.0	
9.1	 
WD20EARS (H67 AHCI)	
21	 
 	
 	 	 	 
 	
0	 	20	 	40	 	60	 

Во время копирования в тот же раздел на удивление хорошо работает контроллер Rocket 620.

Copy far

ISO, Мбайт/с
Intel H67 AHCI	
43	 
AMD SB850 AHCI	
42	 
Intel H67 AHCI (WinXP)	
40	 
Intel ICH10 AHCI	
48	 
Intel H67 IDE	
41	 
PCIe Rocket 620	
42	 
PCI Sil3114	
27	 
USB 3.0	
19.4	 
USB 2.0	
13.4	 
WD20EARS (H67 AHCI)	
45	 
Install, Мбайт/с
Intel H67 AHCI	
41	 
AMD SB850 AHCI	
46	 
Intel H67 AHCI (WinXP)	
30	 
Intel ICH10 AHCI	
45	 
Intel H67 IDE	
63
PCIe Rocket 620	
45	 
PCI Sil3114	
36	 
USB 3.0	
13.9	 
USB 2.0	
11.5	 
WD20EARS (H67 AHCI)	
44	 
Programs, Мбайт/с
Intel H67 AHCI	
23	 
AMD SB850 AHCI	
22	 
Intel H67 AHCI (WinXP)	
16.3	 
Intel ICH10 AHCI	
19.1	 
Intel H67 IDE	
23	 
PCIe Rocket 620	
18.8	 
PCI Sil3114	
18.1	 
USB 3.0	
10.8	 
USB 2.0	
8.9	 
WD20EARS (H67 AHCI)	
15.4	 
 	
 	 	 	 
 	
0	 	20	 	40	 	60	 

На дальнем копировании средних и мелких файлов победителем становится H67 в режиме IDE, а оба USB плетутся в конце, несмотря на то, что интерфейс позволяет работать быстрее.

Модели BitTorrent клиента

Выношу на ваш суд несколько вариантов измерения нагрузки, они не претендуют на полноту и идеальную реалистичность, но результаты всё равно интересные.

Первый вариант - запись транзакций работы реального Torrent клиента и их воспроизведение с помощью Intel NASPT. В течение десяти минут раздавались четыре файла общим объемом 115 Гбайт. Средняя скорость составляла около 1 Мбайта/с, было подключено примерно 19 пиров, в общей сложности к диску было выполнено порядка 8000 транзакций. В скором будущем выйдет отдельная статья о том, как создавать свои собственные шаблоны для NASPT, пока же воспринимайте этот тест «как есть».

Torrent, Мбайт/с
Intel H67 AHCI	
26
AMD SB850 AHCI	
26
Intel H67 AHCI (WinXP)	
22	 
Intel ICH10 AHCI	
25	 
Intel H67 IDE	
25	 
PCIe Rocket 620	
26
PCI Sil3114	
26
USB 3.0	
25	 
USB 2.0	
19	 
WD20EARS (H67 AHCI)	
23	 
 	
 	 	 	 	 	 
 	
0	 	5	 	10	 	15	 	20	 	25

Разница получилась минимальной, но это и хорошо. Диск-то один и тот же. Теоретически можно раздавать файлы со скоростью, превышающей возможности 100-Мбитной сети.

Вы можете сравнить результаты со своими, скачав этот файл и положив его в папку \NASPT\app_traces. Учтите, что придется подождать, пока будет происходить наполнение файлов содержимым. Требования к свободному пространству соответствующее - 115 Гбайт.

Недостаток у этого теста в том, что 115 Гбайт слишком мало для трехтерабайтного накопителя, он будет работать в режиме короткого рабочего хода. Самое худшее - 100% случайное чтение по всему диску. uTorrent читает блоками 128 Кбайт и не умеет создавать длинную очередь – это всё, что нужно знать. Для моделирования такой нагрузки использовался IOMeter. К сожалению, он не распознал диск в формате GPT, поэтому пришлось использовать MBR и пространство 2 Тбайта, но это не должно сильно повлиять на результаты.

Случайное чтение блоками 128 Кбайт, Мбайт/с
Intel H67 AHCI	
7.4	 
AMD SB850 AHCI	
7.6	 
Intel H67 AHCI (WinXP)	
7.9
Intel ICH10 AHCI	
7.8	 
Intel H67 IDE	
7.5	 
PCIe Rocket 620	
7.4	 
PCI Sil3114	
7.5	 
USB 3.0	
7	 
USB 2.0	
6.3	 
WD20EARS (H67 AHCI)	
7.3	 
 	
 	 	 	 
 	
0	 	2	 	4	 	6	 

Даже без кэширования и прочих оптимизаций диск может отдавать 7 Мбайт/сек. Скорость подключения к Интернету у большинства пользователей существенно меньше. Но ведь диск не будет использоваться исключительно для торрентов. Что если захочется посмотреть фильм в формате Blu-ray, не останавливая раздачу? Для этого в IOMeter дополнительно к случайному доступу был добавлен worker с последовательным чтением блоками 64 Кбайта. Результаты работы обеих задач перед вами:

Последовательное чтение блоками 64 Кбайт, Мбайт/с
Intel H67 AHCI	
90	 
AMD SB850 AHCI	
107	 
Intel H67 AHCI (WinXP)	
88	 
Intel ICH10 AHCI	
112
Intel H67 IDE	
 	3.2
PCIe Rocket 620	
91	 
PCI Sil3114	
 	3.4
USB 3.0	
 	3.4
USB 2.0	
 	2.8
WD20EARS (H67 AHCI)	
104	 
 	
 	 	 	 	 	 
 	
0	 	20	 	40	 	60	 	80	 	100	 
Случайное чтение блоками 128 Кбайт, Мбайт/с
Intel H67 AHCI	
0.87	 
AMD SB850 AHCI	
 	0.41
Intel H67 AHCI (WinXP)	
0.97	 
Intel ICH10 AHCI	
 	0.34
Intel H67 IDE	
6.4	 
PCIe Rocket 620	
 	0.78
PCI Sil3114	
6.8
USB 3.0	
6.7	 
USB 2.0	
5.6	 
WD20EARS (H67 AHCI)	
 	0.39
 	
 	 	 	 
 	
0	 	2	 	4	 	6	 

Занятно, не правда ли? Системы с AHCI полностью сосредоточились на линейном чтении, а IDE аналоги, не долго думая, выделили каждой задаче равное число IOps, в итоге скорость последовательного чтения упала до катастрофического уровня. Это означает, что USB контейнеры и контроллеры без AHCI не предназначены для сложной многопоточной нагрузки. Весьма вероятно, что просмотр Blu-ray фильма при работающих торрентах будет невозможен.

Заключение

Трехтерабайтный винчестер требует осмысленного подхода. Основные проблемы возникают при попытке связать компоненты из разных эпох. Если же у вас актуальное «железо», свежие драйверы и современная ОС, то и с новейшими накопителями не будет проблем. Надеюсь, статья содержит исчерпывающую информацию обо всем необходимом для нормальной работы.

Проведенное исследование производительности показало сильную зависимость от различных платформ. Порой она была просто огромной, как будто тестировались разные модели. Особенно выделился внешний контейнер. Не стоит думать, что раз USB 2.0 способен передавать около 35 Мбайт/сек, то интерфейс не станет узким местом при тяжелой нагрузке, когда скорость самого диска снижается ниже этой отметки. Производительность с этим интерфейсом очень часто была ниже в разы, и даже USB 3.0 не сильно улучшил ситуацию.

Что же касается самого диска WD30EZRS, то это вполне рядовой винчестер, который не бьет скоростных рекордов, особенно в режиме случайной записи, и предназначен исключительно для роли хранилища. От WD20EARS он отличается незначительно, в некоторых тестах старая модель даже оказывается впереди.

Выражаем благодарность:

    Компании Western Digital за предоставленное для тестового стенда оборудование: жесткие диски WD30EZRS, WD20EАRS, WD Raptor WD740ADFD-00NLR5 и контроллер HighPoint Rocket 620.